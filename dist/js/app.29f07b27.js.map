{"version":3,"file":"js/app.29f07b27.js","mappings":"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","sources":["webpack://actam/./src/App.vue","webpack://actam/./src/App.vue?7ccd","webpack://actam/./src/views/MainHost.vue","webpack://actam/./src/views/Synth/Oscillators/OscHost.vue","webpack://actam/./src/views/Synth/Oscillators/Osc.vue","webpack://actam/./src/views/Synth/Oscillators/MyPolySynth.js","webpack://actam/./src/views/Synth/Oscillators/Osc.vue?83b5","webpack://actam/./src/views/Synth/Oscillators/OscHost.vue?d815","webpack://actam/./src/views/Synth/Filters/FilterHost.vue","webpack://actam/./src/views/Synth/Filters/FilterChain.vue","webpack://actam/./src/views/Synth/Filters/Filter.vue","webpack://actam/./src/views/Synth/Filters/MyFilter.js","webpack://actam/./src/views/Synth/Filters/Filter.vue?c1b3","webpack://actam/./src/views/Synth/Filters/FilterChain.vue?d0d3","webpack://actam/./src/views/Synth/Filters/FilterHost.vue?2cd0","webpack://actam/./src/views/Synth/Effects/FxHost.vue","webpack://actam/./src/views/Synth/Effects/FxCell.vue","webpack://actam/./src/views/Synth/Effects/MyFx.js","webpack://actam/./src/views/Synth/Effects/FxCell.vue?8c66","webpack://actam/./src/views/Synth/Effects/FxHost.vue?c3f2","webpack://actam/./src/views/Synth/Tools/ToolsHost.vue","webpack://actam/./src/views/Synth/Tools/Meter.vue","webpack://actam/./src/views/Synth/Tools/Meter.vue?40dd","webpack://actam/./src/views/Synth/Tools/Oscilloscope.vue","webpack://actam/./src/views/Synth/Tools/Oscilloscope.vue?f6a7","webpack://actam/./src/views/Synth/Tools/SpecAnalyzer.vue","webpack://actam/./src/views/Synth/Tools/SpecAnalyzer.vue?01c1","webpack://actam/./src/views/Synth/Tools/ToolsHost.vue?776e","webpack://actam/./src/views/Synth/Modulators/ModHost.vue","webpack://actam/./src/views/Synth/Modulators/Envelope.vue","webpack://actam/./src/views/Synth/Modulators/Knobs.vue","webpack://actam/./src/views/Synth/Modulators/Knobs.vue?22e9","webpack://actam/./src/views/Synth/Modulators/VolEnvelope.vue","webpack://actam/./src/views/Synth/Modulators/EnvelopeVisualizer.vue","webpack://actam/./src/views/Synth/Modulators/EnvelopeVisualizer.vue?6078","webpack://actam/./src/views/Synth/Modulators/VolEnvelope.vue?3e34","webpack://actam/./src/views/Synth/Modulators/Lfo.vue","webpack://actam/./src/views/Synth/Modulators/LfoVisualizer.vue","webpack://actam/./src/views/Synth/Modulators/LfoVisualizer.vue?ff68","webpack://actam/./src/views/Synth/Modulators/Lfo.vue?aca2","webpack://actam/./src/views/Synth/Modulators/ModSelector.vue","webpack://actam/./src/views/Synth/Modulators/ModSelector.vue?9635","webpack://actam/./src/views/Synth/Modulators/Envelope.vue?43eb","webpack://actam/./src/views/Synth/Modulators/ModHost.vue?a17d","webpack://actam/./src/views/Synth/Keyboard/PianoKeyboard.vue","webpack://actam/./src/views/Synth/Keyboard/MIDIKeyboard.vue","webpack://actam/./src/views/Synth/Keyboard/MIDIKeyboard.vue?854b","webpack://actam/./src/views/Synth/Keyboard/Octave.vue","webpack://actam/./src/views/Synth/Keyboard/Octave.vue?c297","webpack://actam/./src/views/Synth/Keyboard/PianoKeyboard.vue?3c01","webpack://actam/./src/views/MainHost.vue?2950","webpack://actam/./src/router/index.js","webpack://actam/./src/main.js","webpack://actam/webpack/bootstrap","webpack://actam/webpack/runtime/chunk loaded","webpack://actam/webpack/runtime/define property getters","webpack://actam/webpack/runtime/global","webpack://actam/webpack/runtime/hasOwnProperty shorthand","webpack://actam/webpack/runtime/publicPath","webpack://actam/webpack/runtime/jsonp chunk loading","webpack://actam/webpack/startup"],"sourcesContent":["<template>\n  <router-view/>\n</template>\n\n<script>\n\n\nexport default {\n  mounted() {\n\n  },\n  methods: {\n  }\n};\n</script>\n\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  width: 100%;\n  height: 100vh;\n  margin: auto;\n}\n\n.app_logo {\n  width: 10vw;\n  margin-bottom: 1vw;\n  object-fit: scale-down;\n}\n\nnav {\n  width: 100%;\n  aspect-ratio: 24/1;\n  font-size: 2vw;\n  padding-top: 1vw;\n}\n\nnav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\nnav a.router-link-exact-active {\n  color: #42b983;\n}\n\ndiv {\n  user-select: none;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=1a4c5013\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=1a4c5013&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"appContainer\" @mouseup=\"handleMouseUp\" @mousemove=\"handleMouseMove\">\n    <div class=\"grid\">\n    <img className=\"app_logo\" src=\"@/img/zenyth_logo.png\" draggable=\"false\">\n    <div class=\"mainHost\">\n      <OscHost ref=\"oscHost\" @newOsc=\"handleNewOsc\" />\n      <FilterHost ref=\"filterHost\" @filterInitialized=\"initOscConnections\"/>\n      <FxHost ref=\"fxHost\"/>\n      <ToolHost ref=\"toolsHost\" />\n      <ModHost ref=\"modHost\"/>\n      <PianoKeyboard\n        ref=\"pianoKeyboard\"\n        @noteDown=\"noteDownHandle\"\n        @noteUp=\"noteUpHandle\"\n      />\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport * as Tone from \"tone\";\nimport OscHost from \"./Synth/Oscillators/OscHost.vue\";\nimport FilterHost from \"./Synth/Filters/FilterHost.vue\";\nimport FxHost from \"./Synth/Effects/FxHost.vue\";\nimport ToolHost from \"./Synth/Tools/ToolsHost.vue\";\nimport ModHost from \"./Synth/Modulators/ModHost.vue\"; // Envelope Strip\nimport PianoKeyboard from \"./Synth/Keyboard/PianoKeyboard.vue\";\n\nexport default {\n  name: \"mainHost\",\n  components: {\n    OscHost,\n    FilterHost,\n    FxHost,\n    ToolHost,\n    ModHost,\n    PianoKeyboard,\n\n  },\n  data() {\n    return {\n      draggedInfo: null,\n    };\n  },\n  mounted() {\n    Tone.Transport.start(\"+0.1\")\n  },\n\n  methods: {\n    // -------------- INIT ROUTING (connections) ------------\n    initOscConnections(){\n      this.$refs.oscHost.initConnections()\n    },\n    handleNewOsc(){\n      //initialize volEnvelope on all synth when a new oscillator is added\n      this.$refs.modHost.handleNewOsc();\n    },\n    handleMouseUp(e) {\n      //Actions to execute when mouseup happens on any part of the screen\n      this.$refs.pianoKeyboard.handleMouseUp();\n      this.$refs.modHost.handleMouseUp(e);\n      this.$refs.fxHost.handleMouseUp(e);\n\n      //If something has been dragged and not claimed after 100ms infos are deleted\n      if (this.draggedInfo) {\n        setTimeout(() => this.deleteDraggedInfo(\"MainHost\"), 100);\n      }\n    },\n    handleMouseMove(e){\n      //console.log(this.$refs.modHost)\n      this.$refs.modHost.handleMouseMove(e);\n      this.$refs.fxHost.handleMouseMove(e);\n\n    },\n    noteDownHandle(note) {\n      this.$refs[\"toolsHost\"].setOscilloscopeTiming(note);\n    },\n\n\n    noteUpHandle(note) {\n    },\n\n  },\n};\n</script>\n\n<style>\n.mainHost {\n  display: grid; /* no more flex display because we need Env Strip to be longer */\n  grid-template-rows: 55% 30% 15%; /* grid display row sizes*/\n  grid-template-columns: 20% 55% 25%; /*  ...   ...   column sizes fr is like unit */\n  width: 100%;\n  justify-content: center;\n  aspect-ratio: 4 / 3;\n  background-color: transparent;\n}\n.appContainer {\n  text-align: center;\n  width: 80vw;\n  height: 100vh;\n  margin: auto;\n}\n.grid{\n  display: grid;\n    grid-template-columns: 15% 85%;\n    justify-content: center;\n    justify-items: center;\n}\n</style>","<template>\n  <div class=\"oscHost\" :style=\"this.oscHost\">\n    <div class=\"scrollable\">\n      <template v-for=\"(osc) in this.oscList\" :key=\"osc.id\" :item=\"osc\">\n        <Osc\n            :ref=\"osc.ref\"\n            :id=\"osc.id\"\n            @disposed=\"removeOsc\"\n            @newOsc=\"handleNewOsc\"\n        />\n      </template>\n      <div class=\"voidContainer\" @click=\"addOsc\">\n        <div class=\"voidBorder\" :style=\"voidBorder\">\n          <div class=\"oscVoid\">+</div>\n        </div>\n      </div>\n      <div  v-if=\"this.oscList.length <= 1\" class=\"voidContainer\" @click=\"addOsc\">\n        <div class=\"voidBorder\" :style=\"voidBorder\">\n          <div class=\"oscVoid\">+</div>\n        </div>\n      </div>\n      <div  v-if=\"this.oscList.length <= 0\" class=\"voidContainer\" @click=\"addOsc\">\n        <div class=\"voidBorder\" :style=\"voidBorder\">\n          <div class=\"oscVoid\" >+</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Osc from \"./Osc.vue\";\nimport Vue from \"vue\";\nimport {isProxy, toRaw} from \"vue\";\n\nexport default {\n  components: {\n    Osc,\n  },\n\n  data() {\n    // data structure oscillators list\n    return {\n      oscList: [],\n      name: \"oscHost\",\n      i: 0,\n    };\n  },\n\n  mounted() {\n    this.addOsc();\n    this.addOsc();\n  },\n\n  methods: {\n    handleNewOsc(){\n      this.$emit(\"newOsc\")\n    },\n    initConnections() {\n      for (let key in this.$refs) {\n        //console.log(toRaw(this.$refs[key][0]))\n        toRaw(this.$refs[key][0]).initConnections()\n\n      }\n    },\n    addOsc() {\n      //TO-DO REWRITE\n      let ref = \"osc\" + this.i;\n      this.oscList.push({id: this.i, ref: ref});\n      //console.log(\"adding osc\" + this.i)\n      //console.log(this.oscList);\n      this.i += 1;\n    },\n\n    removeOsc(id) {\n      //console.log(\"removing oscillator\" + id);\n      // Remove the oscillator from the list\n      let index = 0\n      this.oscList.forEach(osc => {\n        if (osc.id === id) index = this.oscList.indexOf(osc)\n      });\n      this.oscList.splice(index, 1);\n    },\n  },\n  unmounted() {\n  },\n  computed: {\n    oscHost(){\n      return{\n        background: '#f8e7e6',\n      }\n    },\n    voidBorder(){\n      return{\n        background: this.colors.pink.glow,\n        border: '.1vw solid' + this.colors.pink.dark\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n.scrollable {\n  font-size: 2vw;\n  justify-content: center;\n  overflow-y: scroll;\n  /* Add a vertical scrollbar */\n  overflow-x: hidden;\n  width: 100%;\n  height: 100%;\n}\n\n.voidContainer {\n  width: 100%;\n  height: calc(100% / 3);\n  position: relative\n}\n\n.voidBorder {\n  height: 100%;\n  padding: 0.3vw;\n  box-sizing: border-box;\n}\n\n.oscVoid {\n  border: 0.1vw solid #c2847b;\n  color: #c2847b;\n  background: #f8e7e6;\n  border-radius: 0.3vw;\n  box-sizing: border-box;\n  height: 100%;\n  justify-content: center;\n  display: flex;\n  align-items: center;\n  font-size: 2vw;\n}\n.oscVoid:hover {\n  border: 0.1vw solid #63443e;\n  color: #63443e;\n  border-radius: 0.3vw;\n  box-sizing: border-box;\n  height: 100%;\n  justify-content: center;\n  display: flex;\n  align-items: center;\n  font-size: 2vw;\n}\n\n/*  hide the scrollbar because cannot be resized in Chrome, Safari (breaks % layout)*/\n.scrollable::-webkit-scrollbar {\n  display: none;\n}\n</style>","<template>\n  <!-- PLEASE DON'T GO CRAZY TRYING UNDERSTAND THIS DIVs LAYER STACKS XD, Look into OSC MIDDLE-->\n  <!-- IN \"osc_middle\" there are the movable circle slider crowns : : 'mod_slider' / 'volume_slider' -->\n  <div class=\"main_container\" @click.shift=\"dispose\">\n    <div class=\"type_button\" @click=\"nextOscType\" :style=\"this.type_button\">\n      <div class=\"innertext\" :style=\"this.type_text\">{{\n        osc_types[true] === \"\" ? 'std' : osc_types[this.oscTypeIndex]\n      }}\n      </div>\n    </div>\n    <!-- DO NOT TOUCH EVER AGAIN HTML STRUCTURE / CSS !!!!!!!!!!!!-->\n    <div class=\"osc_container\" :style=\"osc_container\">\n      <div class=\"osc\">\n        <div class=\"osc_back\">\n          <div class=\"mod_area\" :style=\"this.mod_area\"></div>\n          <div class=\"volume_area\" :style=\"this.volume_area\"></div>\n          <div class=\"pitch_slider\" :style=\"this.pitch_slider\"></div>\n        </div>\n        <div class=\"osc_middle\">\n\n          <div class=\"mod_slider\" ref=\"modulation\" :style=\"this.mod_slider\"></div>\n          <div class=\"volume_slider\" ref=\"volume\" :style=\"this.volume_slider\"></div>\n        </div>\n        <div class=\"osc_front\">\n          <div class=\"pitch_area\" :style=\"this.pitch_area\"></div>\n          <div class=\"pitch_hand\" ref=\"pitch\" :style=\"this.pitch_hand\"></div>\n          <div class=\"lineL\" :style=\"this.lineL\"></div>\n          <div class=\"lineU\" :style=\"this.lineU\"></div>\n          <div class=\"lineR\" :style=\"this.lineR\"></div>\n        </div>\n        <div class=\"draggable left\" @dragenter=\"handleDragEnter('mod')\" @dragleave=\"handleDragLeave('mod')\"\n          @dragenter.prevent @dragover.prevent @drop=\"handleDrop($event, 'mod')\" @mousedown=\"modulationDown\">\n          <div class=\"modDot\" :style=\"computedModulation('mod')\" @click.shift.stop=\"unlinkMod('mod')\"\n            v-text=\"computedModText('mod')\"></div>\n        </div>\n        <div class=\"draggable right\" @dragenter=\"handleDragEnter('vol')\" @dragleave=\"handleDragLeave('vol')\"\n          @dragenter.prevent @dragover.prevent @drop=\"handleDrop($event, 'vol')\" @mousedown=\"volumeDown\">\n          <div class=\"modDot\" :style=\"computedModulation('vol')\" @click.shift.stop=\"unlinkMod('vol')\"\n            v-text=\"computedModText('vol')\"></div>\n        </div>\n        <div class=\"draggable low\" @dragenter=\"handleDragEnter('pitch')\" @dragleave=\"handleDragLeave('pitch')\"\n          @dragenter.prevent @dragover.prevent @drop=\"handleDrop($event, 'pitch')\" @mousedown=\"pitchDown\">\n          <div class=\"modDot\" :style=\"computedModulation('pitch')\" @click.shift.stop=\"unlinkMod('pitch')\"\n            v-text=\"computedModText('pitch')\"></div>\n        </div>\n        <div class=\"osc_wave\" @click=\"nextWaveform\" :style=\"this.osc_wave\">\n          <img v-if=\"this.oscWaveIndex === 0\" src=\"@/icons/sine.svg\" alt=\"\" draggable=\"false\">\n          <img v-if=\"this.oscWaveIndex === 1\" src=\"@/icons/triangle.svg\" alt=\"\" draggable=\"false\">\n          <img v-if=\"this.oscWaveIndex === 2\" src=\"@/icons/saw.svg\" alt=\"\" draggable=\"false\">\n          <img v-if=\"this.oscWaveIndex === 3\" src=\"@/icons/square.svg\" alt=\"\" draggable=\"false\">\n        </div>\n      </div>\n    </div>\n    <div class=\"chain_buttons\" :style=\"chain_buttons\">\n      <div></div>\n      <div class=\"button_1\" :style=\"button_1\" @click=\"this.onChainclick(0)\"></div>\n      <div class=\"button_2\" :style=\"button_2\" @click=\"this.onChainclick(1)\"></div>\n      <div class=\"button_3\" :style=\"button_3\" @click=\"this.onChainclick(2)\"></div>\n      <div></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as Tone from \"tone\";\nimport SineIcon from \"vue-material-design-icons/SineWave\";\nimport SquareIcon from \"vue-material-design-icons/SquareWave\";\nimport TriangleIcon from \"vue-material-design-icons/TriangleWave\";\nimport SawtoothIcon from \"vue-material-design-icons/SawtoothWave\";\nimport {gainToDb} from \"tone\";\nimport MyPolySynth from \"./MyPolySynth.js\";\n\nconst wave_types = [\"sine\", \"triangle\", \"sawtooth\", \"square\"];\nconst osc_types = [\"\", \"fm\", \"am\", \"fat\"];\n\nexport default {\n  components: {\n    SineIcon,\n    SquareIcon,\n    TriangleIcon,\n    SawtoothIcon,\n  },\n\n  data() {\n    return {\n      // todo: UPDATE ALL COLOR DEPENDING ON THIS:\n      color: {\n        vol: this.colors.pink,\n        mod: this.colors.azure,\n        pitch: this.colors.green\n      },\n\n\n      // waveform_btn_style: osc_background_colors[0], todo: colors?\n      osc_types: [\"std\", \"fm\", \"am\", \"fat\"],\n      volume: 0.5,\n      modulation: 1,\n      pitch: 0,\n      pan: 0,\n      attack: 0.01,\n      decay: 0.1,\n      sustain: 1,\n      release: 0.2,\n      maxPitch: 24,\n      minPitch: -24,\n      partials: \"\",\n      oscWaveIndex: 0, // wave currently selected from  ['sine','triangle', ...]\n      oscTypeIndex: 0, // type of osc selected from ['std', 'fm', ...];\n      waveform_btn_style: \"lightblue\",\n      wave_icon_size: 32,\n      is_modulationDown: false,\n      is_volumeDown: false,\n      is_pitchDown: false,\n      isFilterChainRouteActive: [true, false, false],\n      modulators: {\n        vol: null,\n        mod: null,\n        pitch: null\n      },\n    };\n  },\n  props: [\"id\"],\n\n  mounted() {\n    document.addEventListener(\"mousemove\", this.onMouseMove);\n    document.addEventListener(\"mouseup\", this.onMouseUp);\n    window.addEventListener(\"resize\", this.resizeGraphics);\n\n    // resize graphics\n    this.resizeGraphics();\n    this.gainNode = new Tone.Gain();\n    //console.log(this.polyphonyVoices)\n    this.synth = new MyPolySynth(this.gainNode, this.polyphonyVoices);\n    this.synth.setParameters({ volume: gainToDb(1 - this.volume) });\n\n    this.synths.list.push(this.synth)\n    //console.log(this.synths.list)\n    // we need to init connection to first filter chain\n    // in the first osc case we need to make sure we connect after the chain is created , so we handle that with events\n    // emitted from the filter chain - in all other cases we can just normally connect to the chain\n    if (this.id > 1) {\n      this.initConnections()\n    }\n    //communicate to parent that a new osc has been created (to update volEnvelope from ModHost)\n    this.$emit(\"newOsc\")\n\n  },\n\n  computed: {\n\n    osc_container() {\n      return {\n        background: '#f8e7e6'\n      }\n    },\n    /*------------ TYPE BUTTON ------------*/\n    type_button() {\n      return {\n        fontSize: '.5vw',\n        background: this.colors.pink.glow\n      }\n    },\n    type_text() {\n      return {\n        color: this.colors.gray.dark\n      }\n    },\n    /*--------------- OSC -----------------*/\n    volume_area() {\n      return {\n        background: this.colors.pink.dark\n      }\n    },\n    mod_area() {\n      return {\n        background: this.colors.azure.medium\n      }\n    },\n    pitch_area() {\n      return {\n        background: this.colors.green.glow\n      }\n    },\n    mod_slider() {\n      return {\n        transform: \"rotate(-\" + this.modulation * 111 + \"deg)\",\n        background: 'white',\n        opacity: '60%'\n      }\n    },\n    volume_slider() {\n      return {\n        backgroundColor: 'white',\n        opacity: '60%',\n        transform: \"rotate(\" + this.volume * 112 + \"deg)\",\n      }\n    },\n    pitch_slider() {\n      return {\n        background: this.colors.green.medium\n      }\n    },\n    pitch_hand() {\n      return {\n        transform: \"rotate(\" + (this.pitch * 50) / this.maxPitch + \"deg)\",\n        borderLeft: \".1vw solid \" + this.colors.green.dark\n      }\n    },\n    osc_wave() {\n      return {\n        border: '.1vw solid ' + this.colors.green.dark,\n        background: this.colors.green.glow\n      }\n    },\n    lineL() {\n      return {\n        transform: \"rotate(66deg)\",\n        borderLeft: \".1vw solid \" + this.colors.green.dark\n      }\n    },\n    lineU() {\n      return {\n        transform: \"rotate(-66deg)\",\n        borderLeft: \".1vw solid \" + this.colors.green.dark\n      }\n    },\n    lineR() {\n      return {\n        transform: \"rotate(180deg)\",\n        borderLeft: \".1vw solid \" + this.colors.green.dark\n      }\n    },\n    /*------------ CHAIN BUTTONS ------------*/\n    chain_buttons() {\n      return {\n        background: this.colors.pink.glow\n      }\n    },\n    button_1() {\n      let color = ''\n      if (this.isFilterChainRouteActive[0])\n        color = this.colors.purple.light\n      else {\n        color = this.colors.pink.glow\n      }\n      return {\n        background: color, \n        border: '.1vw solid ' + this.colors.gray.dark \n      }\n    },\n    button_2() {\n      let color = ''\n      if (this.isFilterChainRouteActive[1])\n        color = this.colors.green.medium\n      else {\n        color = this.colors.pink.glow\n      }\n      return {\n        background: color, \n        border: '.1vw solid ' + this.colors.gray.dark \n      }\n    },\n    button_3() {\n      let color = ''\n      if (this.isFilterChainRouteActive[2])\n        color = this.colors.pink.light\n      else {\n        color = this.colors.pink.glow\n      }\n      return {\n        background: color, \n        border: '.1vw solid ' + this.colors.gray.dark \n      }\n    },\n  },\n\n  methods: {\n\n    //--------DRAG AND DROP METHODS--------\n    handleDrop(event, target) {\n      if (this.modulators[target] === null) {\n        let data = JSON.parse(event.dataTransfer.getData(\"data\"));\n        //if i'm not trying to link an evelope to volume\n        if (!(target === 'vol' && data.type === 'envelope')) {\n          //console.log(\"Dropping on \" + target)\n          //console.log(data)\n          this.modulators[target] = {color: data.color, id: data.id, type: data.type}\n          document.dispatchEvent(new CustomEvent(\"link\", {\n                detail: {\n                  object: this.synth,\n                  target: target,\n                  color: this.color[target][\"medium\"],\n                  modulator: {type: this.modulators[target].type, id: this.modulators[target].id}\n                }\n              }\n          ))\n        }\n      }\n\n    },\n    handleDragEnter(target) {\n      //todo: highlight object when dragging on it\n      //console.log(\"Dragging over \" + target)\n    },\n    handleDragLeave(target) {\n      //console.log(\"Dragging out of \" + target)\n    },\n    unlinkMod(target) {\n      //todo: CALL BACK ENVELOPS TO UNLINK\n      document.dispatchEvent(new CustomEvent(\"unLink\", {\n            detail: {\n              object: this.synth,\n              target: target,\n              modulator: {type: this.modulators[target].type, id: this.modulators[target].id}\n            }\n          }\n      ))\n\n      //re-hide link dot\n      this.modulators[target] = null;\n\n    },\n    //--------DRAG AND DROP STYLING--------\n    computedModulation(target) {\n      switch (target) {\n        case \"vol\":\n          if (this.modulators[target]) {\n            return {\n              width: \"1vw\",\n              height: \"1vw\",\n              borderRadius: \"50%\",\n              backgroundColor: this.modulators[target].color,\n              position: \"absolute\",\n              right: \"0%\",\n            };\n          } else {\n            return {\n              display: \"none\",\n              width: \"0%\",\n              height: \"0%\",\n            }\n          }\n\n        case \"mod\":\n          if (this.modulators[target]) {\n            return {\n              width: \"1vw\",\n              height: \"1vw\",\n              borderRadius: \"50%\",\n              backgroundColor: this.modulators[target].color,\n              position: \"absolute\",\n            };\n          } else {\n            return {\n              display: \"none\",\n              width: \"0%\",\n              height: \"0%\",\n            }\n          }\n        case \"pitch\":\n          if (this.modulators[target]) {\n            return {\n              width: \"1vw\",\n              height: \"1vw\",\n              borderRadius: \"50%\",\n              backgroundColor: this.modulators[target].color,\n              position: \"absolute\",\n              left: \"0%\",\n              bottom: \"0%\"\n            };\n          } else {\n            return {\n              display: \"none\",\n              width: \"0%\",\n              height: \"0%\",\n            }\n          }\n      }\n    },\n    computedModText(target) {\n      if (this.modulators[target]) {\n        return this.modulators[target].id\n      } else return \"\";\n    },\n\n\n\n    //-----------------\n    dispose() {\n      //unlink linked modulators\n      for (let key in this.modulators) {\n        if (this.modulators[key])\n          this.unlinkMod(key)\n      }\n\n      this.$emit(\"disposed\", this.id)\n      this.synth.disconnectDispose()\n      this.synths.list.splice(this.synths.list.indexOf(this.synth), 1)\n\n\n      //console.log(\"Synth to remove is at index: \" + this.synths.list.indexOf(this.synth))\n      //console.log(\"list of synths remaining:\")\n      //console.log(this.synths.list)\n    },\n    initConnections() {\n      this.gainNode.connect(this.filterChains[0][0].getToneFilter())\n    },\n\n    // ----------- GRAPHIC HELPERS -----------\n    resizeGraphics() {\n      let width = document.body.clientWidth;\n      if (width >= 500) {\n        this.wave_icon_size = (32 * width) / 1500;\n      } else {\n        this.wave_icon_size = 0;\n      }\n    },\n\n    // ---------- USER EVENTS ---------------\n    // Audio routing changed clicking the dots that represent the filter chains\n    onChainclick(id) {\n      //console.log(\"chain click - id: \" + id);\n      try {\n        if (this.isFilterChainRouteActive[id]) {\n          /*\n          console.log(\n              \"disconnect from: \" +\n              this.filterChains[id][0] + \" \" + id\n          );\n          */\n          this.gainNode.disconnect(\n              this.filterChains[id][0].getToneFilter()\n          );\n        } else {\n          /*\n          console.log(\n            \"connect to: \" +\n            this.filterChains[id][0] + \" \" + id\n          );\n          */\n          this.gainNode.connect(\n              this.filterChains[id][0].getToneFilter()\n          );\n        }\n      } catch (e) {\n        console.log(\n          \"error: \" + e + \"\\nCHAIN CONNECTION TO OSC UNSUCCESSFUL. Can't connect to \" + this.filterChains[id][0]\n        );\n      }\n      this.isFilterChainRouteActive[id] = !this.isFilterChainRouteActive[id];\n    },\n\n    onMouseMove(event) {\n      if (this.is_volumeDown) {\n        // RIGHT FADER - volume\n        if (event.movementY < 0) {\n          // Mouse is moving up\n          this.volume = Math.max(this.volume + event.movementY / 100, 0);\n        } else {\n          // Mouse is moving down\n          this.volume = Math.min(this.volume + event.movementY / 100, 1);\n        }\n        // -------------- modify here synth audio ----------------\n        // this.synth.volume.value = gainToDb(1 - this.volume);\n        this.synth.setParameters({ volume: gainToDb(1 - this.volume) });\n        //console.log(\"synth volume: \" + this.volume.toFixed(2) + \" dB\");\n      } else if (this.is_modulationDown) {\n        // LEFT FADER - modulation\n        if (event.movementY < 0) {\n          // Mouse is moving down\n          this.modulation = Math.max(this.modulation + event.movementY / 100, 0);\n        } else {\n          // Mouse is moving up\n          this.modulation = Math.min(this.modulation + event.movementY / 100, 1);\n        }\n        // -------------- modify here synth audio ----------------\n        // (1- this.modulation) needed because the graphics return a value of 1 for the minimum and 0 for the max\n        this.synth.setParameters({modulation: 1 - this.modulation })\n        //console.log(\"modulation: \" + (1 -  this.modulation.toFixed(2)));\n      } else if (this.is_pitchDown) {\n        // BOTTOM FADER - pitch shift\n        if (event.movementX < 0) {\n          // Mouse is moving right\n          this.pitch = Math.min(this.pitch - Math.floor(event.movementX), this.maxPitch);\n        } else if (event.movementX > 0) {\n          // Mouse is moving left\n          this.pitch = Math.max(this.pitch - Math.floor(event.movementX), this.minPitch);\n        }\n        // ----------- modify here synth audio -------------\n        // todo: pitch max a dx e min a sx - meglio il contrario, secondo me - segue possibile ma brutto fix\n        // console.log(\"pitch shift: \" + this.pitch * -1)\n        // this.synth.set({detune: this.pitch * -100});\n        //console.log(\"pitch shift: \" + this.pitch);\n        this.synth.setParameters({ transpose: this.pitch });\n        // -------------------------------------------------\n      }\n    },\n    onMouseUp(event) {\n      if (this.is_modulationDown) this.is_modulationDown = false;\n      if (this.is_volumeDown) this.is_volumeDown = false;\n      if (this.is_pitchDown) this.is_pitchDown = false;\n    },\n\n    modulationDown(event) {\n      if (!this.is_modulationDown) this.is_modulationDown = true;\n    },\n    volumeDown(event) {\n      if (!this.is_volumeDown) this.is_volumeDown = true;\n    },\n    pitchDown(event) {\n      if (!this.is_pitchDown) this.is_pitchDown = true;\n    },\n\n    // ----------- AUDIO -----------\n    // Update osc waveform\n    nextOscType() {\n      // go circularly on along the list osc_types list\n      this.oscTypeIndex++;\n      if (this.oscTypeIndex >= osc_types.length) this.oscTypeIndex = 0;\n\n      this.synth.setParameters({ type: osc_types[this.oscTypeIndex] })\n\n      //console.log(\"osc type: \" + osc_types[this.oscTypeIndex]);\n    },\n\n    nextWaveform() {\n      // update selected wavetype changing the current index\n      this.oscWaveIndex++;\n      if (this.oscWaveIndex >= wave_types.length) this.oscWaveIndex = 0;\n\n      //console.log(wave_types[this.oscWaveIndex])\n      // set new waveform\n      this.synth.setParameters({ waveform: wave_types[this.oscWaveIndex] })\n    },\n\n    // set routing\n    connect(route) {\n      this.synth.connect(route);\n    },\n  },\n\n  unmounted() {\n    // remove event listeners\n    window.removeEventListener(\"resize\", this.resizeGraphics);\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\n  },\n};\n</script>\n\n<style scoped>\n.modDot {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 0.8vw;\n  text-align: center;\n  box-sizing: border-box;\n  border: .06vw solid black;\n}\n\n.main_container {\n  border: .1vw solid #c2847b ;\n  box-sizing: border-box;\n  height: calc(100% / 3);\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.main_container:hover {\n  border: .1vw solid #63443e;\n  box-sizing: border-box;\n  height: calc(100% / 3);\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n\n.osc_container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  flex: 4;\n  height: 100%;\n  width: 100%;\n}\n\n/*---------- MOD TYPE BUTTON ----------*/\n.type_button {\n  border: .1vw solid #c2847b;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n  height: 100%;\n}\n.type_button:hover {\n  border: .1vw solid #63443e;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n  height: 100%;\n}\n\n.type_button .innertext {\n  font-size: .8vw;\n  writing-mode: vertical-rl;\n  text-orientation: upright;\n  text-transform: uppercase;\n}\n\n/*--------------- OSC -----------------*/\n.osc {\n  width: 90%;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  position: relative;\n  aspect-ratio: 1/1;\n}\n\n.osc_back {\n  margin: auto;\n  width: 100%;\n  position: absolute;\n  aspect-ratio: 1/1;\n  clip-path: circle(50%);\n  z-index: 1;\n}\n\n.pitch_slider {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  clip-path: polygon(50% 100%, 100% 100%, 100% 72%, 50% 50%, 0% 72%, 0% 100%);\n  z-index: 27;\n}\n\n.mod_area {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  clip-path: polygon(50% 0%, 0% 0%, 0% 100%, 50% 50%);\n  z-index: 2;\n}\n\n.volume_area {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  clip-path: polygon(50% 0%, 100% 0%, 100% 100%, 50% 50%);\n  z-index: 3;\n}\n\n.osc_middle {\n  margin: auto;\n  height: 95%;\n  top: 2.5%;\n  left: 2.5%;\n  position: absolute;\n  aspect-ratio: 1/1;\n  clip-path: circle(50%);\n  z-index: 25;\n}\n\n.mod_slider {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  clip-path: polygon(50% 0%, 0% 0%, 0% 100%, 50% 50%);\n  z-index: 27;\n}\n\n.volume_slider {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  clip-path: polygon(50% 0%, 100% 0%, 100% 100%, 50% 50%);\n  z-index: 26;\n}\n\n.osc_front {\n  margin: auto;\n  height: 96%;\n  top: 2%;\n  left: 2%;\n  position: absolute;\n  aspect-ratio: 1/1;\n  clip-path: circle(50%);\n  z-index: 50;\n}\n\n.pitch_area {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  clip-path: polygon(50% 100%,\n      100% 100%,\n      100% 72%,\n      50% 50%,\n      0% 72%,\n      0% 100%,\n      50% 100%);\n  z-index: 10;\n}\n\n.pitch_hand {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  height: 40%;\n  width: 100%;\n  transform-origin: 0 0;\n  z-index: 15;\n}\n.lineL {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  height: 100%;\n  width: 100%;\n  transform-origin: 0 0;\n  z-index: 15;\n}\n\n.lineU {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  height: 100%;\n  width: 100%;\n  transform-origin: 0 0;\n  z-index: 15;\n}\n.lineR {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  height: 100%;\n  width: 100%;\n  transform-origin: 0 0;\n  z-index: 15;\n}\n\n\n.osc_wave {\n  display: flex;\n  position: relative;\n  aspect-ratio: 1;\n  width: 45%;\n  border-radius: 50%;\n  left: 0;\n  top: 0;\n  z-index: 101;\n}\n\n.osc_wave img {\n  position: relative;\n  aspect-ratio: 1/1;\n  width: 100%;\n  left: 0;\n  top: 0;\n  clip-path: circle(20%);\n  z-index: 102;\n}\n\n.draggable {\n  position: absolute;\n  z-index: 75;\n}\n\n.left {\n  width: 50%;\n  height: 70%;\n  left: 0;\n  bottom: 30%;\n  background-color: transparent;\n}\n\n.right {\n  width: 50%;\n  height: 70%;\n  background-color: transparent;\n  left: 50%;\n  bottom: 30%\n}\n\n.low {\n  width: 100%;\n  height: 30%;\n  top: 70%;\n  background-color: transparent;\n}\n\n/*------------ CHAIN BUTTONS ------------*/\n.chain_buttons {\n  border: .1vw solid #c2847b;\n  flex: .5;\n  display: grid;\n  grid-template-rows: .3fr 1fr 1fr 1fr .3fr;\n  height: 100%;\n  align-items: center;\n  padding-left: 3%;\n  padding-right: 3%;\n}\n.chain_buttons:hover {\n  border: .1vw solid #63443e;\n  flex: .5;\n  display: grid;\n  grid-template-rows: .3fr 1fr 1fr 1fr .3fr;\n  height: 100%;\n  align-items: center;\n  padding-left: 3%;\n  padding-right: 3%;\n}\n\n\n.button_1,\n.button_2,\n.button_3 {\n  width: 100%;\n  aspect-ratio: 1/1;\n  border: .1vw solid black;\n  border-radius: 50%;\n}\n</style>","import {Synth, Envelope, Gain, Meter, Frequency, LFO} from 'tone'\nimport {nextTick} from 'vue';\nimport * as Tone from 'tone'\nimport {isProxy, toRaw} from 'vue';\n\nconst max_partials_num = 50;\nconst vol_damp_factor = 0.5;\n\nexport default class MyPolySynth {\n    constructor(destination = null, nVoices = 16) {\n\n        this.destination = destination;\n\n\n        //data of all modulators that could potentially be linked to the parameters of the synth\n        this.modulatorsData = {\n            envelope: {\n                vol: {\n                    amount: 1,\n                    parameters: {\n                        attack: 1,\n                        decay: 0.3,\n                        sustain: 0.8,\n                        release: 1\n                    }\n                },\n                mod: {\n                    amount: 0,\n                    parameters: {\n                        attack: 0.05,\n                        decay: 0.1,\n                        sustain: 1,\n                        release: 0.2\n                    }\n                },\n                pitch: {\n                    amount: 0,\n                    parameters: {\n                        attack: 0.05,\n                        decay: 0.1,\n                        sustain: 1,\n                        release: 0.2\n                    }\n                },\n            },\n            lfo: {\n                vol: {\n                    amount: 0,\n                    parameters: {\n                        frequency: 10,\n                        waveform: \"sine\",\n                        min: 0,\n                        max: 1\n                    }\n                },\n                mod: {\n                    amount: 0,\n                    parameters: {\n                        frequency: 10,\n                        waveform: \"sine\",\n                        min: 0,\n                        max: 1\n                    }\n                },\n                pitch: {\n                    amount: 0,\n                    parameters: {\n                        frequency: 10,\n                        waveform: \"sine\",\n                        min: 0,\n                        max: 1\n                    }\n                },\n            }\n        }\n\n        //preset with which all voices of polyphony will be created\n        this.synthPreset = {\n            type: \"\",\n            waveform: \"sine\",\n            vol: -12,\n            transpose: 0,\n            mod: 0,\n            partials: \"\",\n            pan: \"\"\n        }\n\n\n        //modulation effect\n        //this.crusher = new Tone.BitCrusher(3)\n\n\n        this.dampNode = new Gain(vol_damp_factor);\n        //all polyphony voices are connected here\n\n        //console.log(Tone.dbToGain(this.synthPreset.vol))\n        this.gainNode = new Gain(1);\n\n        //list of polyphony voices\n        this.allVoices = [] //always holds reference to all voices\n        this.freeVoices = []    //holds reference to free voices\n        this.busyVoices = {}    //holds reference to busy voices, key=note, value=voice\n        this.nVoices = nVoices  //used to initialize, taken from globalProperties\n        this.lastNotes = Array(this.nVoices)  //stores last nVoices played\n\n        //INIT VOICES\n        this.initVoices()\n\n\n        // connect gainNode to destination\n            this.gainNode.connect(this.dampNode)\n            //this.crusher.connect(this.dampNode)\n            this.dampNode.connect(this.destination)\n    }\n\n    initVoices() {\n        //for each voice\n\n        for (let index = 0; index < this.nVoices; index++) {\n\n            //initializing empty modulators matrix\n            let modulators = {\n                envelope: {\n                    vol: {amount: 1, signal: null, scale: null},\n                    mod: {amount: 0, signal: null, scale: null},\n                    pitch: {amount: 0, signal: null, scale: null},\n                },\n                lfo: {\n                    vol: {amount: 0, signal: null, scale: null},\n                    mod: {amount: 0, signal: null, scale: null},\n                    pitch: {amount: 0, signal: null, scale: null},\n                }\n            }\n\n            let lfoGain = new Gain()\n            lfoGain.connect(this.gainNode) //USED TO CONNECT LFO TO VOICE VOLUME\n\n\n            //creating gain and synth\n            let gain = new Gain(1).connect(lfoGain)\n            //synth is created and initialized with preset parameters\n            let synth = this.createSynth()\n            synth.oscillator.disconnect()\n            synth.oscillator.connect(gain)\n\n            //disconnect and dispose synth inner envelope\n            synth.envelope.disconnect()\n            synth.envelope.dispose()\n\n            //thanks to noiseAdsrGain we can lower to zero the volume of the synth and still hear the noise, bypassing the synth volume\n            let noiseAdsrGain = new Gain()  //used to have the same main adsr of synth on the noise too\n            let noiseGain = new Gain()\n            let noise = new Tone.Noise(\"pink\")\n            noise.connect(noiseGain)\n            noiseGain.connect(noiseAdsrGain)\n            noiseAdsrGain.connect(this.dampNode)\n\n\n\n\n            let voice = {synth: synth, gain: gain, lfoGain: lfoGain, modulators: modulators, noise: noise, noiseGain: noiseGain, noiseAdsrGain: noiseAdsrGain}\n\n            //creating and connecting every modulator\n            for (let type in modulators) {\n                for (let target in modulators[type]) {\n                    let tempMod = this.createModulator(type)\n                    modulators[type][target].signal = tempMod\n                    modulators[type][target].scale = this.createScale(target)\n                    this.connectModulator(modulators[type][target], type, target, voice)\n                }\n            }\n            //pushing voice into freeVoices array\n            this.freeVoices.push(voice)\n            this.allVoices.push(voice)\n        }\n\n        this.initialized = false\n        //setting all parameters of modulators\n        this.updateModulators();\n        this.initialized = true\n\n    }\n\n    playNote(note, velocity) {\n        //console.log(this.freeVoices)\n        if (this.initialized) {\n\n            this.lastNotes.push(note);\n            if (this.lastNotes.length > this.nVoices) {\n                this.lastNote = this.lastNotes.shift();\n            }\n\n            //removing first free voice from array\n            let voice = this.freeVoices.shift()\n            if (!voice) {\n                //console.log(\"NEW NOTE OVERWRITE: \" + this.lastNote)\n                voice = this.busyVoices[this.lastNote]\n                delete this.busyVoices[this.lastNote]\n            }\n            this.busyVoices[note] = voice\n\n            //trigger attack in each modulator\n            for (let type in voice.modulators) {\n                for (let target in voice.modulators[type]) {\n                    if (voice.modulators[type][target].amount>0 ) {\n                    switch (type) {\n                        case \"envelope\":\n                            //console.log(\"TRIGGERING ATTACK IN \"+type+\" connected to \"+target)\n                            //console.log(voice.modulators[type][target].signal)\n                            toRaw(voice.modulators[type][target].signal).cancel(Tone.now())\n                            toRaw(voice.modulators[type][target].signal).triggerAttack(Tone.now())\n                            break;\n                        case \"lfo\":\n                            toRaw(voice.modulators[type][target]).signal.stop()\n                            toRaw(voice.modulators[type][target]).signal.start()\n                            break;\n                        default:\n                            break;\n                    }\n                    }\n                }\n            }\n            voice.synth.oscillator.stop(Tone.now())\n            voice.synth.envelope.cancel(Tone.now())\n            //trigger attack in synth and noise\n            voice.noise.start()\n            voice.synth.triggerAttack(note, Tone.now(), velocity / 128)\n        }\n    }\n\n    stopNote(note) {\n        if (this.initialized) {\n            if (this.busyVoices[note]) {\n                let voice = this.busyVoices[note]\n                delete this.busyVoices[note]\n                this.freeVoices.push(voice)\n\n                //triggerRelease on all envelopes\n                for (let type in voice.modulators) {\n                    for (let target in voice.modulators[type]) {\n                        if (voice.modulators[type][target].signal) {\n                            switch (type) {\n                                case \"envelope\":\n                                    //console.log(\"Triggering release of \"+type+\" with target \"+target)\n                                    voice.modulators[type][target].signal.triggerRelease(Tone.now())\n                                    break;\n                                case \"lfo\":\n                                    //lfos are never stopped, just diminished in amount if needed\n                                    //fvoice.modulators[type][target].signal.stop()\n                                    break;\n                                default:\n                                    break;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    createSynth() {\n        let synth = new Synth()\n        //Setting parameters\n        nextTick(() => {\n            synth.set({\n                \"volume\": this.synthPreset.vol,\n                \"detune\": this.synthPreset.transpose * 100,\n                \"oscillator\": {\n                    \"type\": this.synthPreset.type + this.synthPreset.waveform + this.synthPreset.partials\n                }\n            })\n        })\n        //console.log(this.synthPreset.type + this.synthPreset.waveform + this.synthPreset.partials)\n\n        return synth\n    }\n\n    createModulator(type) {\n        //console.log(\"creating modulator of type: \"+type)\n        switch (type) {\n            case \"envelope\":\n                return new Envelope\n            case \"lfo\":\n                return new LFO\n            default:\n                console.log(\"Error creating modulator\")\n                return null\n        }\n    }\n\n    createScale(target) {\n        switch (target) {\n            case \"vol\":\n                return new Tone.Scale(0, 1);\n            case \"mod\":\n                return new Tone.Scale(0, 1);\n            case \"pitch\":\n                return new Tone.Scale(0, 1);\n            case \"pan\":\n                return new Tone.Scale(0, 1);\n            default:\n                console.log(\"Error creating scale for target \"+target)\n                return null\n        }\n    }\n\n    updateModulators() {\n        this.allVoices.forEach(voice => {\n                for (let type in voice.modulators) {\n                    for (let target in voice.modulators[type]) {\n                        //update amount from preset\n                        voice.modulators[type][target].amount = this.modulatorsData[type][target].amount\n                        if (!toRaw(voice.modulators[type][target].signal)) {\n                            //IF IT'S STILL NOT CREATED\n                            //console.log(\"RECREATING\")\n                            voice.modulators[type][target].signal = this.createModulator(type)\n                            voice.modulators[type][target].scale = this.createScale(target)\n                            this.connectModulator(toRaw(voice.modulators[type][target]), type, target, toRaw(voice))\n                            //console.log(voice.modulators[type][target])\n                        }\n                        this.scaleSetter(voice.modulators[type][target], target)\n                        this.modulatorSetter(toRaw(voice.modulators[type][target].signal), type, this.modulatorsData[type][target].parameters)\n                    }\n                }\n            }\n        );\n    }\n\n    updateSynths() {\n        this.allVoices.forEach(voice => {\n            voice.synth.set({\n                \"detune\": this.synthPreset.transpose * 100,\n                \"oscillator\": {\n                    \"type\": this.synthPreset.type + this.synthPreset.waveform + this.synthPreset.partials\n                }\n            })\n            //this.gainNode.set({gain: Tone.dbToGain(this.synthPreset.vol)})\n            voice.noiseGain.set({\n                gain: this.synthPreset.mod\n            })\n        });\n    }\n\n    scaleSetter(modulator, target) {\n        switch (target) {\n            case \"vol\":\n                //ENVELOPE FOR VOL SHOULD HAVE SCALE TOO TO CENTER AROUND SELECTED FREQUENCY\n                toRaw(modulator.scale).set({\n                    min: (Math.max(Tone.dbToGain(this.synthPreset.vol) - modulator.amount,0)),\n                    max: (Math.min(Tone.dbToGain(this.synthPreset.vol) + modulator.amount,1)),\n                })\n\n\n                break;\n            case \"mod\":\n                toRaw(modulator.scale).set({\n                    min: (Math.max(this.synthPreset.mod - modulator.amount,0)),\n                    max: (Math.min(this.synthPreset.mod + modulator.amount,1)),\n                })\n                break;\n            case \"pitch\":\n                //TO-DO\n                //console.log(\"CHANGING SCALE \")\n                //console.log(modulator.scale)\n                toRaw(modulator.scale).set({\n                    min: ((this.synthPreset.transpose - 24 * modulator.amount) * 100),\n                    max: ((this.synthPreset.transpose + 24 * modulator.amount) * 100)\n                })\n                break;\n            case \"pan\":\n                //TO-DO\n                break;\n\n            default:\n                console.log(\"invalid target to connect modulator to\")\n                break;\n        }\n    }\n\n    modulatorSetter(modulator, type, parameters) {\n        if(!toRaw(parameters).waveform) toRaw(parameters).waveform = modulator.type\n\n        switch (type) {\n            case \"envelope\":\n                modulator.set({\n                    \"attack\": parameters.attack,\n                    \"decay\": parameters.decay,\n                    \"sustain\": parameters.sustain,\n                    \"release\": parameters.release + 0.001,\n                })\n                //console.log(\"JUST SET PARAMETERS OF\")\n                //console.log(modulator)\n                //console.log(\"WITH\")\n                //console.log(parameters)\n                break;\n            case \"lfo\":\n                //TO-DO\n                //console.log(\"PARAMETERS\")\n                //console.log(parameters)\n                modulator.set({//\n                    \"type\": toRaw(parameters).waveform,\n                    \"frequency\": toRaw(parameters).frequency\n                })\n                break;\n            default:\n                console.log(\"Error setting modulator parameters, invalid args\")\n                break;\n        }\n        // console.log(\"modulator.type: \", modulator.type)\n    }\n\n//have to pass, the modulator (tone), the type (lfo or envelope), the gain linked to the voice, the voice and the target\n    connectModulator(modulator, type, target, voice) {\n        //console.log(\"connecting\")\n        //console.log(modulator)\n        //console.log(\"to voice: \")\n        //console.log(voice)\n        //console.log(\"to target: \" + target)\n        switch (type) {\n            case \"envelope\":\n                switch (target) {\n                    case \"vol\":\n                        modulator.signal.chain(modulator.scale, voice.gain.gain)\n                        //modulator.signal.connect(voice.gain.gain)   //SET MAIN ADSR TO SYNTH GAIN\n                        modulator.signal.connect(voice.noiseAdsrGain.gain)      //SET MAIN ADSR TO NOISE GAIN\n                        break;\n                    case \"mod\":\n                        modulator.signal.chain(modulator.scale, voice.noiseGain.gain)\n                        break;\n                    case \"pitch\":\n                        //TO-DO\n                        this.scaleSetter(modulator, target)\n                        modulator.signal.chain(modulator.scale, voice.synth.detune)\n                        break;\n                    case \"pan\":\n                        //TO-DO\n                        break;\n                    default:\n                        console.log(\"invalid target to connect modulator to\")\n                        break;\n                }\n\n                break;\n\n            case \"lfo\":\n                switch (target) {\n                    case \"vol\":\n                        this.scaleSetter(modulator, target)\n                        modulator.signal.chain(modulator.scale, voice.lfoGain.gain)\n                        break;\n                    case \"mod\":\n                        modulator.signal.chain(modulator.scale, voice.noiseGain.gain)\n                        break;\n                    case \"pitch\":\n                        //TO-DO\n                        this.scaleSetter(modulator, target)\n                        modulator.signal.chain(modulator.scale, voice.synth.detune)\n                        break;\n                    case \"pan\":\n                        //TO-DO\n                        break;\n                    default:\n                        console.log(\"invalid target to connect modulator to\")\n                        break;\n                }\n\n                break;\n\n            default:\n                console.log(\"invalid modulator type\")\n                break;\n        }\n    }\n\n    // setters\n    setModulatorParameters(type, target, parameters) {\n        //console.log(\"myPolysynth - setModulatorParameters\")\n        if (this.initialized) {\n            this.modulatorsData[type][target].parameters = parameters\n            // console.log(\"New modulatorsData for type \"+type+\" to target \"+target)\n            // console.log(this.modulatorsData);\n            // console.log(\"params: \" , this.modulatorsData[type][target].parameters,  parameters)\n\n            this.updateModulators()\n            //console.log(\"SETTING\")\n            //console.log(this.modulatorsData)\n        }\n    }\n\n    setModulatorAmount(type, target, amount) {\n        if (this.initialized) {\n            this.modulatorsData[type][target].amount = amount\n            //console.log(\"setting modulator amount\")\n            this.updateModulators()\n        }\n    }\n\n    //TO RENAME IN SET SYNTH PARAMETERS\n    setParameters({\n                      volume = this.synthPreset.vol,\n                      modulation = this.synthPreset.mod,\n                      transpose = this.synthPreset.transpose,\n                      pan = this.synthPreset.pan,\n                      type = this.synthPreset.type,\n                      waveform = this.synthPreset.waveform\n                  }) {\n        if (this.initialized) {\n            this.synthPreset.vol = volume;\n            this.synthPreset.mod = modulation;\n            this.synthPreset.transpose = transpose;\n            this.synthPreset.pan = pan;\n            this.synthPreset.type = type;\n            this.synthPreset.waveform = waveform;\n            //console.log(this.synthPreset.waveform)\n\n            this.updateSynths()\n            this.updateModulators()\n        } else {\n            console.log(\"Polysynth not initialized\")\n        }\n    }\n\n// connect each voice to the new routing\n    connect(route) {\n        this.gainNode.connect(route)\n    }\n\n    disconnectDispose() {\n        //for each voice\n        this.allVoices.forEach(voice => {\n            //Disconnect and dispose synth\n            voice = toRaw(voice)\n            voice.synth.disconnect()\n            voice.synth.dispose()\n            //Disconnect and dispose gain\n            voice.gain.disconnect()\n            voice.gain.dispose()\n            //Disconnect and dispose modulators\n            for (let type in voice.modulators) {\n                for (let target in voice.modulators[type]) {\n                    if (voice.modulators[type][target].signal) {\n                        voice.modulators[type][target].signal.disconnect()\n                        voice.modulators[type][target].signal.dispose()\n                        voice.modulators[type][target].scale.disconnect()\n                        voice.modulators[type][target].scale.dispose()\n                    }\n                }\n            }\n        });\n        //disconnect and dispose main gainNode\n        this.gainNode.disconnect()\n        this.gainNode.dispose()\n\n        //console.log(\"MyPolySynth completely disconnected and disposed\")\n    }\n}","import { render } from \"./Osc.vue?vue&type=template&id=53f63126&scoped=true\"\nimport script from \"./Osc.vue?vue&type=script&lang=js\"\nexport * from \"./Osc.vue?vue&type=script&lang=js\"\n\nimport \"./Osc.vue?vue&type=style&index=0&id=53f63126&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-53f63126\"]])\n\nexport default __exports__","import { render } from \"./OscHost.vue?vue&type=template&id=744778da&scoped=true\"\nimport script from \"./OscHost.vue?vue&type=script&lang=js\"\nexport * from \"./OscHost.vue?vue&type=script&lang=js\"\n\nimport \"./OscHost.vue?vue&type=style&index=0&id=744778da&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-744778da\"]])\n\nexport default __exports__","<template>\n  <div class=\"filterHost\" :style=\"this.filterHost\">\n    <template v-for=\"(chain) in this.chainList\" :key=\"chain.id\" :item=\"chain\">\n        <FilterChain :ref=\"chain.ref\" :id=\"chain.id\" :color=\"chain.color\" @filterInitialized=\"initConnections()\"/>\n       <!-- todo: remove <FilterChain :ref=\"chain.ref\" :id=\"chain.id\" :color=\"chain.color\" @filterInitialized=\"handleFilterInitialized\" /> -->\n      </template>\n  </div>\n</template>\n\n<script>\nimport FilterChain from './FilterChain.vue'\nimport * as Tone from \"tone\";\nimport { isProxy, toRaw } from \"vue\";\n\nexport default {\n  name: \"FilterHost\",\n  components: {\n    FilterChain,\n  },\n\n  data() {\n    return {\n      chain_colors: [],\n      chainList: [],\n      nFilterChains: 3,\n    }\n  },\n  mounted() {\n    this.chain_colors = [this.colors.purple.medium, this.colors.green.medium, this.colors.pink.medium]\n    for (let index = 0; index < this.nFilterChains; index++) {\n      this.chainList.push({ id: index, ref:\"chain\"+index, color: this.chain_colors[index]})\n    }\n    // console.log(this.filterChains)\n  },\n  computed: {\n    filterHost(){\n      return {\n        background: this.colors.yellow.glow\n      }\n    }\n  },\n  methods: {\n    initConnections(){\n      //console.log(\"filter host init connections\")\n      for (let key in this.$refs) {\n        //console.log(toRaw(this.$refs[key][0]))\n        toRaw(this.$refs[key][0]).initConnections()\n      }\n      this.$emit('filterInitialized')\n      //console.log(\"filters initilised\")\n      //console.log(\"filters:\")\n      //console.log(this.filterChains)\n      //console.log(\"fx:\")\n      //console.log(this.fxChains)\n    }\n  }\n}\n\n// access a parameter of a vue component child from its father\n</script>\n\n<style scoped>\n\n.filterHost {\n  display: flex;\n  flex-direction: column;\n}\n</style>","<template>\n  <div class=\"filterChain\">\n    <div class=\"chainline\" :style=\"this.chainLine\"></div>\n    <div class = \"chainDot\" :style=\"this.chainDot\"></div>\n    <div class=\"chainHead\" ref=\"chainHead\"></div>\n    <template v-for=\"(filter) in this.filterList\" :key=\"filter.id\" :item=\"filter\">\n      <Filter :ref=\"filter.ref\" :chainId=\"this.id\" :id=\"filter.id\" :filter_type=\"filter.type\" :chainColor=\"this.color\"\n              @filtersMounted=\"this.handleFiltersMounted()\"/>\n    </template>\n    <div class=\"chainTail\">\n      <div></div>\n      <div class=\"routing-btn fx_chain_1\" :style=\"fx_chain_1\" @click=\"setRouting(0)\"></div>\n      <div class=\"routing-btn fx_chain_2\" :style=\"fx_chain_2\" @click=\"setRouting(1)\"></div>\n      <div class=\"routing-btn fx_chain_3\" :style=\"fx_chain_3\" @click=\"setRouting(2)\"></div>\n      <div></div>\n    </div>\n  </div>\n</template>\n\n<script>\n// I want to modify a variable of a vue component from its father that is a vue component too\nimport Filter from './Filter.vue'\nimport {getDestination} from \"tone\";\nimport {isProxy, toRaw} from \"vue\";\n\nconst filterTypes = [\"highpass\", \"peaking\", \"lowpass\"]\n\nexport default {\n  ref: \"FilterChain\",\n  components: {\n    Filter,\n  },\n  props: [\"color\", \"id\"],\n  data() {\n    return {\n      filterList: [],\n      nFilters: 3,\n      isFxChainRouteActive: [true, false, false]\n    }\n  },\n  mounted() {\n    //console.log(\"mounting filter chain\" + this.id)\n    for (let index = 0; index < this.nFiltersXchain; index++) {\n      this.filterList.push({id: index, ref: \"filter\" + index, type: filterTypes[index]})\n    }\n  },\n\n  computed: {\n    fx_chain_1() {\n      let color = ''\n      if (this.isFxChainRouteActive[0])\n        color = this.colors.purple.light\n      else\n        color = this.colors.yellow.glow\n      return {\n        background: color,\n        border: '.1vw solid' + this.colors.gray.dark\n      }\n    },\n    fx_chain_2() {\n      let color = ''\n      if (this.isFxChainRouteActive[1])\n        color = this.colors.green.medium\n      else\n        color = this.colors.yellow.glow\n      return {\n        background: color,\n        border: '.1vw solid' + this.colors.gray.dark\n      }\n    },\n    fx_chain_3() {\n      let color = ''\n      if (this.isFxChainRouteActive[2])\n        color = this.colors.pink.light\n      else\n        color = this.colors.yellow.glow\n      return {\n        background: color,\n        border: '.1vw solid' + this.colors.gray.dark\n      }\n    },\n    chainLine(){\n      return {\n        top: '49%',\n        left: '5%',\n        width: '88%',\n        height: '.2vw',\n        position:'absolute',\n        background: this.$props['color'],\n        zIndex:'0',\n        borderRadius:'10%'\n      }\n    },\n    chainDot(){\n      return {\n        top: '45%',\n        left: '3.5%',\n        height: '10%',\n        aspectRatio: '1/1',\n        position: 'absolute',\n        zIndex: '3',\n        background: this.$props['color'],\n        borderRadius: '50%',\n      }\n    }\n\n  },\n\n  methods: {\n    handleFiltersMounted() {\n      if (this.id === this.nFilterChains - 1) {\n        this.$emit(\"filterInitialized\")\n      }\n    },\n    // -------- AUDIO -------x\n    initConnections() {\n      //console.log(\"filter chain init connections\")\n      for (let index = 0; index < this.nFiltersXchain - 1; index++) {\n        this.filterChains[this.id][index].connect(this.filterChains[this.id][index + 1].getToneFilter());\n        //console.log(\"connected \" + this.filterChains[this.id][index] + \" to \" + this.filterChains[this.id][index + 1])\n      }\n      // connect chain of filters output to chain each chain of effects\n      this.filterChains[this.id][this.nFilters - 1].connect(this.fxChains[0][0]); // init connection to first fx chain\n      this.isFxChainRouteActive[0] = true;\n      /*for (let i = 0; i < this.nFxChains; i++) { // init connection to all chains\n        this.filterChains[this.id][this.nFilters - 1].connect(this.fxChains[i][0]);\n        this.isFxChainRouteActive[i] = true;\n      }*/\n    },\n\n    setRouting(id) {\n      //console.log(\"chain click - id: \" + id);\n      try {\n        if (this.isFxChainRouteActive[id]) {\n          //console.log(\"disconnect from: \" + this.fxChains[id][0] + \" \" + id);\n          this.filterChains[this.id][this.nFilters - 1].disconnect(\n              this.fxChains[id][0]\n          );\n        } else {\n          //console.log(\"connect to: \" + this.fxChains[id][0] + \" \" + id);\n          this.filterChains[this.id][this.nFilters - 1].connect(\n              this.fxChains[id][0]\n          );\n        }\n      } catch (e) {\n        console.log(\n            \"error: \" + e + \"\\nCHAIN FILTERS CONNECTION TO FX CHAIN \" + id + \" UNSUCCESSFUL. Can't connect to \" + this.fxChains[id][0]\n        );\n      }\n      this.isFxChainRouteActive[id] = !this.isFxChainRouteActive[id];\n    },\n  }\n}\n\n</script>\n\n<style scoped>\n\n.filter {\n  flex: 4;\n}\n\n.filterChain {\n  position:relative;\n  flex: 1;\n  display: flex;\n  flex-direction: row;\n}\n\n.chainHead {\n  flex: 1;\n  background-color: transparent;\n}\n\n.chainTail {\n  flex: 1;\n  display: inline-grid;\n  align-items: center;\n  justify-items: center;\n  flex-direction: column;\n  background-color: transparent;\n}\n\n.routing-btn {\n  width: 50%;\n  aspect-ratio: 1/1;\n  border-radius: 50%;\n}\n\n</style>","<template>\n  <div class=\"filter\">\n    <div class=\"modDot\" :style=\"computedModulation('filter')\" @click.shift.stop=\"unlinkMod('filter')\"\n         v-text=\"computedModText('filter')\"></div>\n    <div class=\"filter_back\" ref=\"filter_back\"\n         >\n\n    </div>\n    <div class=\"filter_logo\" :style=\"this.filter_logo\" @mousedown=\"logoDown\">\n      <div v-if=\"is_logoDown && type != 'peaking'\" class=\"logo_text\">\n        {{ ((1 - this.resonance) * 100).toFixed() + \"%\" }}\n      </div>\n      <div v-if=\"is_logoDown && type == 'peaking'\" class=\"logo_text\">\n        {{ ((1 - 2 * this.resonance) * 100).toFixed() + \"%\" }}\n      </div>\n      <!--<div v-if=\"type==='peaking'\" class=\"logo_BD_mask\" :style=\"computedBDMaks\"></div> -->\n      <div class=\"logo_glow\" :style=\"computedGlow\"></div>\n\n      <div class=\"logo_border\"\n           @dragenter=\"handleDragEnter('filter')\" @dragleave=\"handleDragLeave('filter')\"\n           @dragenter.prevent @dragover.prevent @drop=\"handleDrop($event, 'filter')\"\n      ></div>\n      <div class=\"logo\" :style=\"logo\">\n        <div v-if=\"is_logoDown\" class=\"logo_text_back\" :style=\"this.logo_text_back\"></div>\n        <div\n            v-if=\"type === 'lowpass'\"\n            class=\"logo_LP\"\n            :style=\"computedLP\"\n        ></div>\n        <div\n            v-if=\"type === 'highpass'\"\n            class=\"logo_HP\"\n            :style=\"computedHP\"\n        ></div>\n        <div v-if=\"type === 'peaking'\" class=\"logo_BD_back\"></div>\n        <div\n            v-if=\"type === 'peaking'\"\n            class=\"logo_BD_circle\"\n            :style=\"computedBDCircle\"\n        ></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MyFilter from \"@/views/Synth/Filters/MyFilter\";\n\nexport default {\n  props: [\"filter_type\", \"chainId\", \"chainColor\", \"id\"],\n\n  data() {\n    return {\n      color: this.colors.yellow,\n      type: this.filter_type,\n      cutoff: 0.5,  //DON'T CHANGE FROM HERE, CHANGE PRESET INSIDE MYFILTER\n      resonance: 0.5, //DON'T CHANGE FROM HERE, CHANGE PRESET INSIDE MYFILTER\n      is_logoDown: false,\n\n      modulator: null,\n    }\n  },\n  mounted() {\n    // mouse event listeners\n    document.addEventListener(\"mousemove\", this.onMouseMove);\n    document.addEventListener(\"mouseup\", this.onMouseUp);\n\n    //console.log(this.$props)\n\n    // -------------- AUDIO ---------------\n    this.filter = new MyFilter(this.type, this.cutoff, this.resonance);\n\n    this.cutoff = this.filter.getCutoff()\n    this.resonance = this.filter.getResonance()\n\n\n    //console.log(this.chainId+\" \"+this.id)\n    //Inserting filter in global variable\n    this.filterChains[this.chainId][this.id] = this.filter;\n\n    if (this.id === this.nFiltersXchain - 1 && this.chainId === this.nFilterChains - 1) {\n      this.$emit(\"filtersMounted\");\n    }\n\n  },\n\n  methods: {\n    //------------DRAG AND DROP LOGIC---------\n    handleDrop(event, target = \"\") {\n      if (this.modulator === null) {\n        let data = JSON.parse(event.dataTransfer.getData(\"data\"));\n        this.modulator = {color: data.color, id: data.id, type: data.type}\n        //console.log(\"RECEIVED HANDLEDROP, THIS.MODULATOR=\")\n        //console.log(this.modulator)\n        document.dispatchEvent(new CustomEvent(\"link\", {\n          detail: {\n            object: this.filter,\n            target: target,\n            color: this.color[\"light\"],\n            modulator: {type: this.modulator.type, id: this.modulator.id}\n          }}\n        ))\n      }\n\n    },\n    handleDragEnter(target) {\n      //todo: highlight object when dragging on it\n      //console.log(\"Dragging over \" + target)\n    },\n    handleDragLeave(target) {\n      //console.log(\"Dragging out of \" + target)\n    },\n    unlinkMod(target) {\n      //todo: CALL BACK ENVELOPS TO UNLINK\n      document.dispatchEvent(new CustomEvent(\"unLink\", {\n            detail: {\n              object: this.filter,\n              target: target,\n              modulator: {type: this.modulator.type, id: this.modulator.id}\n            }\n          }\n      ))\n\n      //re-hide link dot\n      this.modulator = null;\n\n    },\n    //--------DRAG AND DROP STYLING--------\n    computedModulation(target = \"\") {\n      if (this.modulator) {\n        return {\n          width: \"1vw\",\n          height: \"1vw\",\n          borderRadius: \"50%\",\n          backgroundColor: this.modulator.color,\n          position: \"absolute\",\n          left: \"10%\",\n          zIndex: \"1\",\n          top: \"10%\",\n        };\n      } else {\n        return {\n          display: \"none\",\n          width: \"0%\",\n          height: \"0%\",\n        }\n      }\n    },\n    computedModText(target = \"\") {\n      if (this.modulator) {\n        return this.modulator.id\n      } else return \"\";\n    },\n\n    //------------------------------------\n\n    // ----------- USER EVENTS -----------\n    onMouseMove(event) {\n      if (this.is_logoDown) {\n        if (event.movementY < 0) {\n          // Mouse is moving up\n          this.resonance = Math.max(this.resonance + event.movementY / 100, 0);\n          //console.log(\"moving up\");\n        } else {\n          // Mouse is moving down\n          this.resonance = Math.min(this.resonance + event.movementY / 100, 1);\n        }\n        if (event.movementX < 0) {\n          // Mouse is moving right\n          this.cutoff = Math.max(\n              this.cutoff + Math.floor(event.movementX) / 100,\n              0\n          );\n        } else if (event.movementX > 0) {\n          // Mouse is moving left\n          this.cutoff = Math.min(\n              this.cutoff + Math.floor(event.movementX) / 100,\n              1\n          );\n        }\n        // ----------- audio ---------\n        this.filter.setResonance(this.resonance);\n        this.filter.setCutoff(this.cutoff);\n      }\n    },\n\n    onMouseUp() {\n      if (this.is_logoDown) this.is_logoDown = false;\n      document.body.style.cursor = \"pointer\";\n    },\n    logoDown() {\n      if (!this.is_logoDown) {\n        this.is_logoDown = true;\n        document.body.style.cursor = \"none\";\n      }\n    },\n\n    // ----------- AUDIO SETTERS--------------\n    setCutoff(cutoff = this.cutoff) {\n      this.cutoff = cutoff;\n      this.filter.setCutoff(this.cutoff)\n    },\n\n    setResonance(resonance = this.resonance) {\n      this.resonance = resonance\n      this.filter.setResonance(this.resonance)\n    },\n\n    connect(destination) {\n      this.filter.connect(destination);\n    },\n\n    disconnect(destination) {\n      this.filter.disconnect(destination)\n    },\n\n    // ------------ GETTERS SETTERS -------------\n    getToneFilter() {\n      return this.filter.getToneFilter();\n    },\n\n    getMyFilter() {\n      return this.filter;\n    },\n  },\n\n  computed: {\n    computedHeadStyle() {\n      return {\n        left: 0.7 * this.cutoff * 100 + 13.5 + \"%\",\n      };\n    },\n    computedGlow() {\n      if (this.filter_type === \"peaking\" && this.resonance < 0.5) {\n        return {\n          opacity: 1 - 2 * this.resonance,\n          background: this.colors.yellow.light,\n        };\n      } else if (this.filter_type === \"peaking\" && this.resonance >= 0.5) {\n        return {\n          opacity: 2 * this.resonance - 1,\n          background: this.colors.yellow.light,\n        };\n      } else {\n        return {\n          opacity: 1 - this.resonance,\n          background: this.colors.yellow.light,\n        };\n      }\n    },\n    computedLP() {\n      return {\n        transform: \"translateX(\" + (-100 + this.cutoff * 100)  + \"%)\",\n      };\n    },\n    computedHP() {\n      return {\n        transform: \"translateX(\" + this.cutoff * 100 + \"%)\",\n      };\n    },\n    computedBDMaks() {\n      let clip = \"\";\n      if (this.resonance > 0.5)\n        clip = \"polygon(0% 0%, 100% 0%, 100% 50%, 0% 50%)\";\n      else if (this.resonance < 0.5)\n        clip = \"polygon(0% 50%, 0% 100%, 100% 100%, 100% 50%)\";\n      else clip = \"polygon(0% 0%, 100% 0%, 100% 50%, 0% 50%)\";\n      return {\n        clipPath: clip,\n      };\n    },\n    computedBD() {\n      if (1 - this.resonance >= 0.5) {\n        return {\n          //transform: 'translateY(' + (this.resonance > .5 ? -100 + this.resonance * 100 : this.resonance * 100) + '%)',\n          height: (1 - this.resonance) * 100 + \"%\",\n          transform: \"translateX(\" + this.cutoff * 100 + \"%)\",\n        };\n      } else {\n        return {\n          //transform: 'translateY(' + (this.resonance > .5 ? -100 + this.resonance * 100 : this.resonance * 100) + '%)',\n          height: (1 - this.resonance - 0.5) * 100 + \"%\",\n          transform: \"translateX(\" + (this.cutoff - 0.5) * 100 + \"%)\",\n        };\n      }\n    },\n    computedBDCircle() {\n      return {\n        transform:\n            \"translate(\" +\n            (this.cutoff - 0.5) * 100 +\n            \"%, \" +\n            (this.resonance - 0.5) * 100 +\n            \"%)\",\n        //transform: 'translateX('+(this.cutoff-.5)*100+'%)'\n      };\n    },\n    filter_logo() {\n      return {\n        background: this.colors.yellow.glow\n      }\n    },\n    logo() {\n      return {\n        background: this.colors.yellow.light\n      }\n    },\n    logo_text_back() {\n      return {\n        background: this.colors.yellow.light,\n      }\n    }\n  },\n};\n</script>\n\n<style scoped>\n.modDot {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 0.8vw;\n  text-align: center;\n  box-sizing: border-box;\n  border: .06vw solid black;\n}\n.filter {\n  position: relative;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 4;\n}\n\n.filter_back {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  height: 80%;\n  background-color: transparent;\n  justify-content: center;\n  align-items: center;\n}\n\n.filter_logo {\n  position: absolute;\n  display: flex;\n  flex: 5;\n\n  height: 100%;\n  top: 0;\n  aspect-ratio: 1/1;\n  border-radius: 50%;\n  z-index: 0;\n  clip-path: circle(50%);\n  justify-content: center;\n  align-items: center;\n}\n\n.logo_border {\n  position: absolute;\n  height: 70%;\n  aspect-ratio: 1/1;\n  z-index: 5;\n  border-radius: 50%;\n  border: 0.1vw solid #3b210e;\n}\n\n.logo {\n  position: absolute;\n  height: 70%;\n  aspect-ratio: 1/1;\n  z-index: 3;\n  clip-path: circle(50%);\n}\n\n.logo_glow {\n  position: absolute;\n  height: 90%;\n  aspect-ratio: 1/1;\n  border-radius: 50%;\n  z-index: 1;\n  filter: blur(0.3vw);\n}\n\n.logo_text {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1vw;\n  font-weight: bold;\n  position: absolute;\n  height: 100%;\n  aspect-ratio: 1/1;\n  border-radius: 50%;\n  color: black;\n  opacity: 100%;\n  background-color: black;\n  z-index: 5;\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.logo_text_back {\n  position: absolute;\n  z-index: 6;\n  left: 15%;\n  top: 30%;\n  width: 70%;\n  height: 40%;\n  opacity: 100%;\n  border-radius: 10%;\n}\n\n.logo_LP {\n  opacity: 60%;\n  display: flex;\n  position: absolute;\n  height: 100%;\n  aspect-ratio: 1/1;\n  border-radius: 50%;\n  border: .1vw solid black;\n  background-color: #faf8ef;\n  z-index: 1;\n}\n\n.logo_HP {\n  opacity: 60%;\n  display: flex;\n  position: absolute;\n  height: 100%;\n  aspect-ratio: 1/1;\n  border-radius: 50%;\n  border: .1vw solid black;\n  background-color: #faf8ef;\n  z-index: 1;\n}\n.logo_BD_circle {\n  opacity: 60%;\n  position: absolute;\n  width: 100%;\n  aspect-ratio: 1/1;\n  border: .1vw solid black;\n  border-radius: 50%;\n  background-color: #faf8ef;\n  z-index: 5;\n}\n\n.logo_BD_mask {\n  opacity: 60%;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  border: .1vw solid black;\n  background-color: #ffebd2;\n  z-index: 2;\n}\n\n.logo_BD {\n  display: flex;\n  position: absolute;\n  height: 100%;\n  aspect-ratio: 1/1;\n  border-radius: 50%;\n  background-color: white;\n  z-index: 1;\n}\n\n.logo_BD_line {\n  position: absolute;\n  width: 100%;\n  height: 4%;\n  top: 48%;\n  filter: blur(0.02vw);\n  border-radius: 30%;\n  background-color: #e58138;\n  z-index: 5;\n}\n\n\n.logo_BD_circle {\n  position: absolute;\n  width: 100%;\n  aspect-ratio: 1/1;\n\n  border-radius: 50%;\n  background-color: #faf8ef;\n  z-index: 5;\n}\n</style>","import * as Tone from \"tone\";\nimport {Envelope, LFO} from \"tone\";\nimport {toRaw} from \"vue\";\n\nexport default class MyFilter {\n    constructor(type = \"peaking\", cutoff = 0.5, resonance = 0.5) {\n\n        this.filter_type = type;\n        this.cutoff = cutoff;\n        this.resonance = resonance;\n\n        this.modulatorsData = {\n            envelope: {\n                amount: 0,\n                parameters: {\n                    attack: 1,\n                    decay: 0.3,\n                    sustain: 0.8,\n                    release: 1\n                }\n            },\n            lfo: {\n                amount: 0,\n                parameters: {\n                    frequency: 10,\n                    waveform: \"sine\",\n                    min: 0,\n                    max: 1\n                }\n            }\n        }\n\n        //to stop moduoators only when there is one left active voice and the note is released\n        this.activeNotes=0\n\n        this.modulators = {\n            envelope: {\n                signal: this.createModulator(\"envelope\"),\n                scale: new Tone.ScaleExp(0, 1, 3),\n                amount: 0\n            },\n            lfo: {\n                signal: this.createModulator(\"lfo\"),\n                scale: new Tone.ScaleExp(0, 1, 3),\n                amount: 0\n            }\n        }\n\n        this.filter = new Tone.Filter();\n        this.initFilterParams();\n\n\n    }\n\n    getCutoff() {\n        return this.cutoff\n    }\n\n    getResonance() {\n        return this.resonance\n    }\n\n    createModulator(type) {\n        //console.log(\"creating modulator of type: \"+type)\n        switch (type) {\n            case \"envelope\":\n                return new Envelope\n            case \"lfo\":\n                return new LFO\n            default:\n                console.log(\"Error creating modulator\")\n                return null\n        }\n    }\n\n\n    // ----------- AUDIO SETTERS--------------\n    initFilterParams() {\n        let self = this;\n\n        // init switched off filters\n        switch (this.filter_type) {\n            case \"lowpass\":\n                this.cutoff = .9;\n                this.resonance = 1;\n                break;\n            case \"highpass\":\n                this.cutoff = 0.1;\n                this.resonance = 1;\n                break;\n            case \"peaking\":\n                this.cutoff = 0.5;\n                this.resonance = 0.5;\n                break;\n            case \"bandpass\":\n                break;\n            case \"lowshelf\":\n                break;\n            case \"highshelf\":\n                break;\n            case \"notch\":\n                break;\n            case \"allpass\":\n                break;\n            default:\n                console.log(\"Invalid filter type\");\n        }\n\n        this.filter.set({\n            frequency: self.cutoffLogMapping(this.cutoff),\n            type: this.filter_type,\n        })\n\n        this.scaleSetter(this.modulators.envelope)\n        this.scaleSetter(this.modulators.lfo)\n        this.connectModulator(this.modulators.envelope)\n        this.connectModulator(this.modulators.lfo)\n        this.updateModulators()\n\n    }\n\n\n    //------------MODULATORS LOGIC----------\n\n    scaleSetter(modulator, target = \"\") {\n        //console.log(modulator)\n        toRaw(modulator.scale).set({\n\n            min: (Math.pow(10, Math.log10(this.cutoffLogMapping(this.cutoff)) - 1 * modulator.amount)),\n            max: (Math.pow(10, Math.log10(this.cutoffLogMapping(this.cutoff)) + 1 * modulator.amount)),\n        })\n\n    }\n\n    connectModulator(modulator) {\n        modulator.signal.chain(modulator.scale, this.filter.frequency)\n    }\n\n    setModulatorParameters(type, target, parameters) {\n        this.modulatorsData[type].parameters = parameters\n        this.updateModulators()\n    }\n\n    setModulatorAmount(type, target, amount) {\n        this.modulatorsData[type].amount = amount\n        this.updateModulators()\n    }\n\n    updateModulators() {\n        for (let type in this.modulators) {\n            //update amount from preset\n            this.modulators[type].amount = this.modulatorsData[type].amount\n            //reset scale\n            this.scaleSetter(this.modulators[type])\n            //reset modulator\n            this.modulatorSetter(toRaw(this.modulators[type].signal), type, this.modulatorsData[type].parameters)\n        }\n    }\n\n    modulatorSetter(modulator, type, parameters) {\n        if (!toRaw(parameters).waveform) toRaw(parameters).waveform = modulator.type\n        switch (type) {\n            case \"envelope\":\n                modulator.set({\n                    \"attack\": parameters.attack,\n                    \"decay\": parameters.decay,\n                    \"sustain\": parameters.sustain,\n                    \"release\": parameters.release + 0.001,\n                })\n                break;\n            case \"lfo\":\n                modulator.set({\n                    \"type\": toRaw(parameters).waveform,\n                    \"frequency\": toRaw(parameters).frequency\n                })\n                break;\n            default:\n                console.log(\"Error setting modulator parameters, invalid args\")\n                break;\n        }\n    }\n\n    playNote(note = \"\", velocity = \"\") {\n        //trigger attack in modulators\n        this.modulators.envelope.signal.cancel(Tone.now())\n        this.modulators.envelope.signal.triggerAttack(Tone.now())\n        this.modulators.lfo.signal.stop()\n        this.modulators.lfo.signal.start()\n        //console.log(\"PLAYED FILTER MODULATORS\")\n        this.activeNotes++\n    }\n    stopNote(note=\"\") {\n        if(this.activeNotes<=1){\n            this.modulators.envelope.signal.triggerRelease(Tone.now())\n            //lfos never stopped\n            //this.modulators.lfo.signal.stop()\n            //console.log(\"STOPPED FILTER MODULATORS\")\n        }\n        this.activeNotes--\n    }\n\n\n    //--------------------\n\n\n    setCutoff(cutoff = this.cutoff) {\n        this.cutoff = cutoff;\n        let self = this;\n        this.filter.set({\n            frequency: self.cutoffLogMapping(this.cutoff),\n        });\n        /*\n        console.log(\n            this.filter_type +\n            \" cutoff: \" +\n            this.cutoff.toFixed(2) +\n            \" - \" +\n            this.cutoffLogMapping(this.cutoff).toFixed(0) +\n            \" Hz\"\n        );\n\n         */\n        this.updateModulators()\n    }\n\n    setResonance(resonance = this.resonance) {\n        this.resonance = resonance;\n        let self = this;\n\n        if (this.filter_type === \"lowshelf\" || this.filter_type === \"highshelf\" || this.filter_type === \"peaking\") {\n            // bell delta amplitude is controlled changing the 'gain' parameter\n            this.filter.set({\n                gain: self.resonanceRangeNormalizer(1 - self.resonance, this.filter_type),\n            });\n            /*\n            console.log(\n                \"Setting Peaking Resonance: \" +\n                self.resonanceRangeNormalizer(1 - self.resonance, this.filter_type)\n            );\n\n             */\n        } else if (this.filter_type === \"lowpass\" || this.filter_type === \"highpass\") {\n            // filter's Q is controlled changing the 'Q' parameter\n            this.filter.set({\n                Q: self.resonanceRangeNormalizer(1 - self.resonance, this.filter_type),\n            });\n            /*\n            console.log(\n                \"Setting LowPass/HighPass Resonance: \" +\n                self.resonanceRangeNormalizer(1 - self.resonance, this.filter_type)\n            );\n\n             */\n        }\n        /*\n            console.log(\n              \"resonance: \" +\n                this.resonance.toFixed(2) +\n                \" - \" +\n                Math.round(this.resonanceRangeNormalizer((self.resonance), this.type)) +\n                \" dB\"\n            );\n        */\n    }\n\n    connect(destination) {\n        try {\n            this.filter.connect(destination);\n        } catch (err) {\n            console.log(\"ERROR: \" + err + \" - myfilter: \", this.filter, \" -connect to destination: \", destination);\n        }\n    }\n\n    disconnect(destination) {\n        if (destination) {\n            this.filter.disconnect(destination)\n        } else {\n            this.filter.disconnect(destination)\n        }\n    }\n\n    getToneFilter() {\n        return this.filter;\n    }\n\n    // ----------- AUDIO HELPERS--------------\n    // takes value in [0, 1] range and it maps it to [50, 16000] interval in a logarithmic fashion\n    cutoffLogMapping(x) {\n        if (x < 0 || x > 1) {\n            console.error(\"Input value must be between 0 and 1.\");\n            return;\n        }\n        return 20 * Math.pow(10, Math.log10(22000 / 20) * x);\n    }\n\n    // takes value in [0, 1] range and it maps it to [0, 10] linearly\n    resonanceRangeNormalizer(x, type) {\n        if (x < 0 || x > 1) {\n            console.error(\"Input value must be between 0 and 1.\");\n            return;\n        }\n        switch (type) {\n            case \"lowpass\":\n                return 15 * x;\n            case \"highpass\":\n                return 15 * x;\n            case \"peaking\":\n                return 30 * (x - 0.5);\n            default:\n                break;\n        }\n    }\n\n}","import { render } from \"./Filter.vue?vue&type=template&id=35e63e5b&scoped=true\"\nimport script from \"./Filter.vue?vue&type=script&lang=js\"\nexport * from \"./Filter.vue?vue&type=script&lang=js\"\n\nimport \"./Filter.vue?vue&type=style&index=0&id=35e63e5b&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-35e63e5b\"]])\n\nexport default __exports__","import { render } from \"./FilterChain.vue?vue&type=template&id=c7cd25ac&scoped=true\"\nimport script from \"./FilterChain.vue?vue&type=script&lang=js\"\nexport * from \"./FilterChain.vue?vue&type=script&lang=js\"\n\nimport \"./FilterChain.vue?vue&type=style&index=0&id=c7cd25ac&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c7cd25ac\"]])\n\nexport default __exports__","import { render } from \"./FilterHost.vue?vue&type=template&id=2c1963ee&scoped=true\"\nimport script from \"./FilterHost.vue?vue&type=script&lang=js\"\nexport * from \"./FilterHost.vue?vue&type=script&lang=js\"\n\nimport \"./FilterHost.vue?vue&type=style&index=0&id=2c1963ee&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2c1963ee\"]])\n\nexport default __exports__","<template>\n  <div :style=\"this.fxBack\">\n  <div class=\"fxHost\" :style=\"this.fxHost\">\n\n    <div class=\"chainHeadsRow\">\n      <div class=\"chainHead \" :style=\"this.chainHead1\"></div>\n      <div class=\"chainHead \" :style=\"this.chainHead2\"></div>\n      <div class=\"chainHead \" :style=\"this.chainHead3\"></div>\n    </div>\n    <div class=\"fxGrid\">\n      <FxCell v-for=\"(fx) in Fx_chain1\" ref=\"effects\" :chainId=\"fx.chainId\" :id=\"fx.id\" :item=\"fx\"></FxCell>\n      <FxCell v-for=\"(fx) in Fx_chain2\" :chainId=\"fx.chainId\" :id=\"fx.id\" :item=\"fx\"></FxCell>\n      <FxCell v-for=\"(fx) in Fx_chain3\" :chainId=\"fx.chainId\" :id=\"fx.id\" :item=\"fx\"\n              @fxMounted=\"this.initFxConnections()\"></FxCell>\n    </div>\n    <div class=\"gainList\" :style=\"this.gainList\">\n      <div id=\"gain1\" class=\"channelGain\" :style=\"channelGain(0)\" @mousedown=\"gainMouseDown(0)\">\n        <div class=\"channelGainFader\" :style=\"computedFxGainKnobStyle(0)\"></div>\n      </div>\n      <div id=\"gain2\" class=\"channelGain\" :style=\"channelGain(1)\" @mousedown=\"gainMouseDown(1)\">\n        <div class=\"channelGainFader\" :style=\"computedFxGainKnobStyle(1)\"></div>\n      </div>\n      <div id=\"gain3\" class=\"channelGain\" :style=\"channelGain(2)\" @mousedown=\"gainMouseDown(2)\">\n        <div class=\"channelGainFader\" :style=\"computedFxGainKnobStyle(2)\"></div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport FxCell from '../Effects/FxCell.vue'\nimport {Gain, getDestination} from \"tone\";\n\nexport default {\n  name: \"FxHost\",\n  components: {FxCell},\n\n  data() {\n    return {\n      Fx_chain1: [],\n      Fx_chain2: [],\n      Fx_chain3: [],\n      isGainSelected: \"\",\n      chainsGains: \"\"\n    }\n  },\n\n  mounted() {\n    this.isGainSelected = Array(this.nFxChains).fill(false)\n    this.chainsGains = Array(this.nFxChains).fill(0);\n    this.chainsGains[0] = 0.8;\n    this.chainsGains[1] = 0.8;\n    this.chainsGains[2] = 0.8;\n    // note: refs are kept incremental through the chains, while everything else is indexed relatively to the chain\n    //console.log(\"creating fx\")\n    for (let i = 1; i <= this.nFxXchain; i++) {\n      this.Fx_chain1.push({id: i, ref: 'Fx' + i, chainId: 0});\n      this.Fx_chain2.push({id: i, ref: 'Fx' + i + this.nFxXchain, chainId: 1});\n      this.Fx_chain3.push({id: i, ref: 'Fx' + i + this.nFxXchain * 2, chainId: 2});\n      // console.log(i)\n    }\n\n    //console.log(this.fxChains)\n    for (let i = 0; i < this.nFxChains; i++) {\n      this.fxChains[i][0] = new Gain(1);\n      this.fxChains[i][this.nNodesXfxChain-1] = new Gain(+this.chainsGains[i]);\n    }\n  },\n\n  methods: {\n    // -------------------- AUDIO -----------------------\n    initFxConnections() {\n      //console.log(this.fxChains)\n      for (let i = 0; i < this.nFxChains; i++) {\n        // structure: Gain Filter Filter Filter Filter Filter Gain [7]\n        for (let j = 0; j < this.nNodesXfxChain-2; j++) {\n          //console.log(\"i: \", i, \"j: \", j)\n          this.fxChains[i][j].connect(this.fxChains[i][j + 1].getToneReference())\n          // console.log(\"chain \", i ,\" id: \", j, \" into chain \", i , \" id: \", j+1)\n        }\n        // connect last filter to volume\n        this.fxChains[i][this.nNodesXfxChain-2].connect(this.fxChains[i][this.nNodesXfxChain-1])\n        // connect vol to destination\n        this.fxChains[i][this.nNodesXfxChain-1].connect(getDestination())\n        // console.log(\"chain \", i, \" id: \", this.nFxXchain-1, \" into getDestination()\")\n      }\n    },\n\n    // first node of each chain is a gain node - we set its volume to adjust whole chain gain\n    setChainVolume(chainId, volume) {\n      this.fxChains[chainId][this.nNodesXfxChain-1].gain = volume;\n\n    },\n\n    // --------------------  GESTURE -----------------------\n    gainMouseDown(gainId) {\n      this.isGainSelected[gainId] = true;\n      // console.log(\"fx gainMouseDown\")\n    },\n\n    handleMouseUp(e) {\n      //Actions to execute when mouseup happens on any part of the screen\n      this.isGainSelected.fill(false)\n      // console.log(\"fx gainMouseUP\")\n\n    },\n    handleMouseMove(e) {\n      this.isGainSelected.forEach((isSelected, index) => {\n        // console.log(\"fx gain vol knob mouse drag\")\n        if (isSelected) {\n          //console.log(\"fx gain vol knob mouse drag of \", isSelected);\n          this.chainsGains[index] = this.chainsGains[index] - Math.floor(e.movementY) / 100;\n          this.chainsGains[index] = Math.max(this.chainsGains[index], 0);\n          this.chainsGains[index] = Math.min(this.chainsGains[index], 1);\n          //console.log(this.chainsGains[index])\n          //console.log(this.fxChains[index][0])\n          this.fxChains[index][this.nNodesXfxChain-1].set({\n            gain: this.chainsGains[index]\n          })\n        }\n      })\n    },\n    computedFxGainKnobStyle(id) {\n      let color = ''; \n      if(id === 0) color = this.colors.purple.medium\n      if(id === 1) color = this.colors.green.medium\n      if(id === 2) color = this.colors.pink.medium\n      return {\n        height: 100 * this.chainsGains[id] + \"%\",\n        top: 50 * (1-this.chainsGains[id]) + \"%\",\n        left: 50 * (1-this.chainsGains[id]) + \"%\",\n      \n        background: color,\n      }\n    },\n    channelGain(id) {\n      let color = ''\n      if(id == 0) color = this.colors.purple.glow\n      if(id == 1) color = this.colors.green.glow\n      if(id == 2) color = this.colors.pink.glow\n      return {\n        background: color,\n      }\n    }\n  },\n\n  computed : {\n\n    fxHost(){\n      return {\n        background: this.colors.orange.glow,\n        border: '.1vw solid '+this.colors.orange.dark,\n        boxSizing: 'border-box'\n      }\n    },\n    gainList(){\n      return {\n        background: this.colors.orange.light,\n        borderTop: '.1vw solid '+this.colors.orange.dark,\n        boxSizing: 'border-box',\n        height: '100%'\n      }\n    },\n    chainHead1(){\n      return {\n        background: this.colors.purple.light\n      }\n    },\n    chainHead2(){\n      return {\n        background: this.colors.green.medium\n      }\n    },\n    chainHead3(){\n      return {\n        background: this.colors.pink.light\n      }\n    },\n    fxBack(){\n      return {\n        position: 'relative',\n        height: '100%',\n        width: '100%',\n        background: this.colors.orange.light\n      }\n    }\n    \n  }\n}\n\n</script>\n\n<style scoped>\n  .fxHost{\n    display: grid;\n    margin: .3vw;\n    height: calc(100% - .6vw);\n    border-radius: 1%;\n    opacity: 90%;\n    grid-template-columns: 1fr;\n    grid-template-rows: 10% 70% 20%;\n    justify-content: center;\n    align-items: center;\n  }\n  .fxGrid{\n    justify-content: center;\n    align-items: center;\n    justify-items: stretch;\n    height: 100%;\n    width: 100%;\n    flex: 1;\n    display: grid;\n    grid-column: auto;\n    grid-template-rows:  1fr 1fr 1fr 1fr 1fr ;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-auto-flow: column;\n    box-sizing: border-box;\n  }\n\n  .gainList{\n    width: 100%;\n    position: relative;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    flex-direction: row;\n  }\n\n.channelGainFader {\n  box-sizing: border-box;\n  position: relative;\n  left: 50%;\n  top: 50%;\n  aspect-ratio: 1;\n  border-radius: 50%;\n  align-self: center;\n}\n\n.channelGain {\n  box-sizing: border-box;\n  position: relative;\n  align-content: center;\n  height: 70%;\n  aspect-ratio: 1/1;\n  border-radius: 50%;\n  border: 0.06vw solid black;\n}\n\n.chainHeadsRow {\n  height: 60%;\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-direction: row;\n  background-color: transparent;\n  margin-top: 2%;\n  box-sizing: border-box;;\n  border: 0;\n}\n\n\n  .chainHead {\n    height: 50%;\n    aspect-ratio: 1/1;\n    border: 0;\n    clip-path: circle(50%)\n  }\n\n  .head1 {\n    background-color: red;\n  }\n  .head2 {\n    background-color: green;\n  }\n  .head3 {\n    background-color: blue;\n  }\n</style>","<template>\n  <div class=\"cell\" @click=\"nextFx\" @click.shift=\"setToBypass\" @mousedown=\"fxDown\">\n    <div class=\"icon\">\n      <div v-if=\"this.typeId === 0\" ref=\"plus\" :style=\"this.iconDiv\" @mouseover=\"this.onIconEnter\" @mouseout=\"onIconLeave\"> +</div>\n      <img v-if=\"this.typeId === 1\" src=\"@/icons/blizzard.svg\" alt=\"\">\n      <img v-if=\"this.typeId === 2\" src=\"@/icons/drop.svg\" alt=\"\">\n      <img v-if=\"this.typeId === 3\" src=\"@/icons/fire.svg\" alt=\"\">\n      <img v-if=\"this.typeId === 4\" src=\"@/icons/moon.svg\" alt=\"\">\n      <img v-if=\"this.typeId === 5\" src=\"@/icons/wind.svg\" alt=\"\">\n      <img v-if=\"this.typeId === 6\" src=\"@/icons/tornado.svg\" alt=\"\">\n    </div>\n    <div class=\"glow\" :style=\"computedGlowStyle\" @mousedown=\"fxDown\">\n    </div>\n  </div>\n</template>\n\n<script>\nimport { isSVGTag } from '@vue/shared';\nimport MyEffect from \"@/views/Synth/Effects/MyFx\";\nimport {Gain, getDestination} from \"tone\";\nimport { nextTick } from \"vue\";\n\nconst types = ['none', 'reverb', 'delay', 'distortion', 'vibrato', 'pan', 'chorus'];\nconst Fx_colors = ['transparent', 'lightblue', 'deepskyblue', 'red', 'orange', 'darkorchid', 'yellow'];\nexport default {\n  props: [\"chainId\", \"id\", \"ref\"],\n\n  data() {\n    return {\n      modulation: 0,\n      is_down: false,\n      typeId: 0,\n      volume: 0,\n\n      //variables to solve\n      //dragging and clicking interference\n      startX: 0,\n      startY: 0,\n      endX: 0,\n      endY: 0,\n      threshold: 2, // adjust as needed\n    };\n  },\n  mounted() {\n    // gesture listeners\n    document.addEventListener(\"mouseup\", this.onMouseup);\n    document.addEventListener(\"mousemove\", this.onMousemove);\n    // init effect as bypass (a gain node)\n    this.effect = new MyEffect({ typeId: types[this.typeId], modulation: this.modulation })\n    // this.effect = this.fxHelper.generateToneFx('none');\n    // create the effect in the global fx matrix\n    this.fxChains[this.chainId][this.id] = this.effect;\n    // console.log(\"fx chain: \" + this.chainId + \" - fx id: \" + this.id)\n    // console.log(this.chainId, \" \", this.id)\n\n    // notify parent that each filter has been created\n    if (this.chainId === this.nFxChains - 1 && this.id === this.nFxXchain) {\n      this.$emit(\"fxMounted\")\n    }\n  },\n\n  computed: {\n    computedGlowStyle() {\n      return {\n        opacity: (this.modulation + 0.3) * 100 + \"%\",\n        background: Fx_colors[this.typeId]\n      }\n    },\n    iconDiv() {\n      let color = 'black'\n      if (this.chainId === 0) color = this.colors.purple.medium\n      if (this.chainId === 1) color = this.colors.green.medium\n      if (this.chainId === 2) color = this.colors.pink.medium\n      return {\n        color: color,\n      }\n    },\n    iconDivBlack(){\n      let color = 'black'\n      return {\n        color: color,\n      }\n    },\n    onIconEnter() {\n      this.$refs['plus'].style.color = 'black'\n    },\n    onIconLeave() {\n      let color = 'black'\n      if (this.chainId === 0) color = this.colors.purple.medium\n      if (this.chainId === 1) color = this.colors.green.medium\n      if (this.chainId === 2) color = this.colors.pink.medium\n      this.$refs['plus'].style.color = color\n    }\n    /*     onIconLeave(){\n          let color = 'black'\n          if(this.chainId === 0 ) color = this.colors.purple.medium\n          if(this.chainId === 1 ) color = this.colors.green.medium\n          if(this.chainId === 2 ) color = this.colors.pink.medium\n          this.$refs['plus'].style.color = color\n        } */\n  },\n\n  components: { isSVGTag },\n\n  methods: {\n    // ------------------ USER INTERACTIONS -----------------------\n    nextFx() {\n      //calculate distance between mouseDown and mouseUp, if it is more than threshold pixels, then it is a drag\n      const distance = Math.sqrt(\n        Math.pow(this.endX - this.startX, 2) +\n        Math.pow(this.endY - this.startY, 2)\n      );\n\n      if (distance <= this.threshold) {\n        if (!this.is_down) {\n          // change fx type and index\n          this.typeId = this.generateNextTypeIndex();\n          let fxType = types[this.typeId]\n          //console.log(fxType)\n\n          this.changeFxType(fxType)\n        }\n      }\n\n    },\n\n    changeFxType(fxType) {\n      // disconnect old effect\n      this.effect.disconnect();\n      this.effect.dispose();\n\n      // create new effect\n      this.effect = new MyEffect({ type: fxType, modulation: this.modulation })\n      this.effect.setFxParams({ type: fxType, mod: this.modulation })\n\n      // attach new fx in the global fx matrix\n      // init effect\n      this.fxChains[this.chainId][this.id] = this.effect;\n      // connect effect\n      this.fxChains[this.chainId][this.id-1].connect(this.fxChains[this.chainId][this.id].getToneReference());\n      if(this.fxChains[this.chainId][this.id+1] instanceof MyEffect) {\n        this.fxChains[this.chainId][this.id].connect(this.fxChains[this.chainId][this.id + 1].getToneReference())\n      } else if(this.fxChains[this.chainId][this.id+1] instanceof Gain){\n        this.fxChains[this.chainId][this.id].connect(this.fxChains[this.chainId][this.id + 1])\n      }\n      //console.log(this.fxChains)\n\n      /* // debug global fx matrix\n      this.fxChains.forEach((chain) => {\n        chain.forEach((fx) => {\n          if (fx instanceof MyEffect){\n            console.log(fx.getToneReference())\n          } else { console.log(fx) }\n        })\n      })*/\n    },\n\n    generateRandomTypeIndex() {\n      return Math.round(Math.random() * 10 + 1) % types.length\n    },\n\n    generateNextTypeIndex() {\n      return (this.typeId + 1) % types.length;\n    },\n\n    setToBypass() {\n      this.typeId = 0;\n      this.changeFxType('none')\n\n      //console.log(\"set fx in position \" + this.chainId + \" - \" + this.id + \" to bypass\")\n    },\n\n    fxDown(e) {\n      //save mouseDown position\n      this.startX = e.clientX;\n      this.startY = e.clientY;\n\n      if (!this.is_down)\n        this.is_down = true;\n    },\n    onMouseup(e) {\n      //save mouseUp position\n      this.endX = e.clientX;\n      this.endY = e.clientY;\n      if (this.is_down)\n        this.is_down = false;\n    },\n    onMousemove(event) {\n      if (this.is_down) {\n        if (event.movementY < 0) {\n          this.modulation = Math.min(this.modulation - event.movementY / 100, 1);\n        } else {\n          this.modulation = Math.max(this.modulation - event.movementY / 100, 0);\n        }\n        this.effect.setFxParams({ fx: this.effect, typeId: this.typeId, mod: this.modulation })\n\n        // console.log(this.modulation);\n      }\n    }\n  },\n}\n</script>\n\n<style scoped>\n.cell {\n  position: relative;\n  height: 85%;\n  background-color: transparent;\n  display: flex;\n  margin: 10%;\n  align-items: center;\n  justify-content: center;\n}\n\n.icon {\n  display: flex;\n  aspect-ratio: 1/1;\n  position: absolute;\n  z-index: 2;\n  background-color: transparent;\n}\n\n.icon div {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5vw;\n  height: 100%;\n  aspect-ratio: 1/1;\n  background-color: transparent;\n}\n\n.icon img {\n  width: 1.5vw;\n  aspect-ratio: 1/1;\n  opacity: 80%;\n  -webkit-user-drag: none;\n}\n\n.glow {\n  border-radius: 5%;\n  flex: 1;\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  z-index: 1;\n  background-color: red;\n}\n\n.glow div {\n  height: 100%;\n  width: 100%;\n  opacity: 100%;\n  color: black;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2vw;\n}\n</style>","import {Chorus, Distortion, Envelope, Gain, LFO, Panner, PingPongDelay, Reverb, Vibrato} from 'tone'\nimport {nextTick} from \"vue\";\n\nexport default class MyEffect {\n    constructor({ type = \"none\", modulation = 0 }) {\n        this.type = type;\n        this.mod = modulation;\n        this.effect = this.generateToneFx(type)\n    }\n\n    // getters\n    getToneReference(){\n        return this.effect;\n    }\n\n    // creator\n    generateToneFx(type) {\n        let effect;\n        // console.log(\"fx gen type: \" + type)\n        switch (type) {\n            case 0:\n            case 'none':\n                effect = new Gain();\n                break;\n            case 1:\n            case 'reverb':\n                effect = this.createReverb()\n                break;\n            case 2:\n            case 'delay':\n                effect = this.createDelay()\n                break;\n            case 3:\n            case 'distortion':\n                effect = this.createDistortion()\n                break;\n            case 4:\n            case 'vibrato':\n                effect = this.createVibrato()\n                break;\n            case 5:\n            case 'pan':\n                effect = this.createPan()\n                break;\n            case 6:\n            case 'chorus':\n                effect = this.createChorus()\n                break;\n            default:\n                effect = new Gain();\n        }\n        // console.log(effect)\n        this.setFxParams({ effect: effect, type: type })\n        return effect;\n    }\n\n    // setters\n    // general setter\n    setFxParams({ effect = this.effect, type = this.type, mod = this.mod }) {\n        this.effect = effect;\n        this.type = type;\n        this.mod = mod;\n        // console.log(\"effect = \"+ this.effect,\" type = \" + this.type, \"mod = \" + this.mod)\n\n        switch (type) {\n            case 1: // reverb\n            case 'reverb':\n                this.effect.set({\n                    decay: 0.1 + 5*mod,\n                    wet: 0.3 + 0.7*mod,\n                })\n                break;\n            case 2: // delay\n            case 'delay':\n                this.effect.set({\n                    delayTime: 0.05 + 0.4*mod,\n                    feedback: 0.05 + 0.90*mod,\n                    wet: 0.3 + 0.7*mod,\n                })\n                break;\n            case 3: // distortion\n            case 'distortion':\n                this.effect.set({\n                    distortion: 0.05 + 0.95*mod,\n                    wet: 0.4 + 0.6*mod,\n                })\n                break;\n            case 4: // vibrato\n            case 'vibrato':\n                this.effect.set({\n                    depth: 0.5 + 0.5*mod,\n                    frequency: 1 + 20*mod,\n                    wet: 0.5 + 0.5*mod\n                })\n                break;\n            case 5: // pan\n            case 'pan':\n                let coeff = -1 + (2*mod)\n                this.effect.set({\n                    pan: coeff,\n                    wet: 1,\n                })\n                console.log(\"pan coeff: \" + coeff.toFixed(2))\n                break;\n            case 6: // chorus\n            case 'chorus':\n                this.effect.set({\n                    depth: 0.6 + mod*0.4,\n                    frequency: 30 + mod*10,\n                    spread: 80 * mod*8,\n                    wet: 1,\n                    feedback: 0.05 + mod*0.9,\n                    type: \"triangle\" + (mod*10).toFixed(0).toString(),\n                    delayTime: 100 + mod*90,\n                })\n                break;\n            default:\n                this.effect = new Gain();\n        }\n    }\n\n    // -------------- FX CREATION -------------\n    createReverb(){\n        return new Reverb();\n    }\n    createDelay() {\n        //todo: not interesting effect if used like this\n        return new PingPongDelay();\n    }\n    createDistortion(){\n        return new Distortion();\n    }\n    createVibrato(){\n        return new Vibrato();\n    }\n    createPan(){\n        // todo: create LFO modulating width\n        return new Panner();\n    }\n    createChorus(){\n        return new Chorus();\n    }\n\n   \n    // ------------- TONE JS EXTENSIONS -----------\n    connect(route){\n        this.effect.connect(route);\n    }\n    disconnect(){\n        this.effect.disconnect();\n    }\n    dispose(){\n        this.effect.dispose();\n    }\n}\n","import { render } from \"./FxCell.vue?vue&type=template&id=04d29db5&scoped=true\"\nimport script from \"./FxCell.vue?vue&type=script&lang=js\"\nexport * from \"./FxCell.vue?vue&type=script&lang=js\"\n\nimport \"./FxCell.vue?vue&type=style&index=0&id=04d29db5&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-04d29db5\"]])\n\nexport default __exports__","import { render } from \"./FxHost.vue?vue&type=template&id=1dd12caa&scoped=true\"\nimport script from \"./FxHost.vue?vue&type=script&lang=js\"\nexport * from \"./FxHost.vue?vue&type=script&lang=js\"\n\nimport \"./FxHost.vue?vue&type=style&index=0&id=1dd12caa&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1dd12caa\"]])\n\nexport default __exports__","<template>\n    <div class=\"toolsHost\" :style=\"this.toolsHost\">\n        <SpecAnalyzer />\n        <Oscilloscope ref=\"oscilloscope\"/>\n        <Meter/>\n    </div>\n</template>\n<!-- ./Tools/Meter.vue../Meter.vue -->\n<script>\n    import * as Tone from \"tone\";\n    import Meter from './Meter.vue'\n    import Oscilloscope from './Oscilloscope.vue'\n    import SpecAnalyzer from './SpecAnalyzer.vue'\n    export default {\n    name: \"ToolsHost\",\n    components: {\n        Meter,\n        Oscilloscope,\n        SpecAnalyzer\n    },\n    data() {\n        return {\n\n        }\n    },\n    mounted() {\n\n    },\n    beforeDestroy() {\n    },\n\n    methods: {\n        setOscilloscopeTiming(note){\n            let mseconds = (1/Tone.Frequency(note))*1000;\n            this.$refs[\"oscilloscope\"].setTiming(mseconds)\n        }\n\n    },\n    computed: {\n        toolsHost(){\n            return{\n                background: this.colors.green.light\n            }\n        }\n    }\n}\n</script>\n\n<style>\n    .toolsHost{\n        display: grid;\n        grid-template-rows: 40% 40% 20%;\n    }\n</style>","<template>\n  <div class=\"meter\" :style=\"this.Meter\">\n    <div class=\"signalSum\">\n      <div ref=\"left\" class=\"signal\" :style=\"computedWidthLeft\"></div>\n      <div></div>\n      <div ref=\"right\" class=\"signal\" :style=\"computedWidthRight\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Meter } from \"tone\";\nimport { dbToGain, gainToDb } from \"tone\";\nimport * as Tone from \"tone\";\n\nexport default {\n  data() {\n    return {\n      widthLeft: 0,\n      widthRight: 0,\n    };\n  },\n  computed: {\n    computedWidthLeft() {\n      return { width: `${this.widthLeft}%` , background: this.colors.green.medium};\n    },\n    computedWidthRight() {\n      return { width: `${this.widthRight}%` , background: this.colors.green.medium};\n    },\n    Meter(){\n      return{\n        background: this.colors.green.glow,\n      }\n    },\n  },\n  mounted() {\n    this.meter = new Meter({channels: 2});\n    Tone.getDestination().connect(this.meter);\n    this.intervalId = setInterval(() => {\n      this.updateWidths();\n    }, 25);\n  },\n  \n  methods: {\n    updateWidths() {\n      //this.volume = this.meter.getValue();\n      [ this.leftVolume , this.rightVolume ] = this.meter.getValue();\n      if (!isFinite(this.leftVolume) && !isFinite(this.rightVolume)) return;\n      //console.log(this.meter.getValue()); \n      this.widthLeft = Math.min(dbToGain(this.leftVolume) * 100,100);\n      this.widthRight = Math.min(dbToGain(this.rightVolume) * 100,100);\n    },\n  },\n  beforeDestroy() {\n    this.meter.stop();\n    this.meter.dispose();\n    clearInterval(this.intervalId);\n  },\n};\n</script>\n\n<style scoped>\n.meter {\n  grid-row: 3;\n  border-radius: 0.2vw;\n  margin: 0vw 0.3vw 0.3vw;\n  display: flex;\n  border: 0.1vw solid #334030;\n}\n.signal {\n  height: 100%;\n  border-radius: 0.05vw;\n}\n.signalSum {\n  margin: 0.3vw;\n  display: grid;\n  grid-template-rows: 45% 10% 45%;\n  width: 100%;\n}\n</style>","import { render } from \"./Meter.vue?vue&type=template&id=c5d289ba&scoped=true\"\nimport script from \"./Meter.vue?vue&type=script&lang=js\"\nexport * from \"./Meter.vue?vue&type=script&lang=js\"\n\nimport \"./Meter.vue?vue&type=style&index=0&id=c5d289ba&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c5d289ba\"]])\n\nexport default __exports__","<template>\n  <div class=\"oscilloscope\">\n    <canvas ref=\"canvas\" class=\"oscilloscopeCanvas\" :style=\"this.oscilloscopeCanvas\"></canvas>\n  </div>\n</template>\n\n<script>\nimport * as Tone from \"tone\";\n\nexport default {\n  data() {\n    return {\n      oscilloscopeData: [],\n      timing: 10,\n    };\n  },\n\n  mounted() {\n    this.oscilloscope = new Tone.Waveform();\n    Tone.getDestination().connect(this.oscilloscope);\n    this.startOscilloscope();\n\n    // use the ref to get the canvas element\n    this.canvas = this.$refs.canvas;\n\n    // set the canvas width and height to 100%\n    this.canvas.width = 4*this.canvas.offsetWidth;\n    this.canvas.height = 4*this.canvas.offsetHeight;\n\n    // get the canvas context\n    this.ctx = this.canvas.getContext(\"2d\");\n  },\n  methods: {\n    setTiming(timing) {\n      this.timing = timing;\n      clearInterval(this.intervalId);\n      this.startOscilloscope();\n    },\n    startOscilloscope() {\n        //console.log(\"avviando oscilloscope con timer \"+this.timing)\n      this.intervalId = setInterval(() => {\n        this.updateOscilloscopeData();\n      }, this.timing);\n    },\n    draw(data) {\n      // clear the canvas\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n      // draw the data on the canvas\n      // set the line color\n      this.ctx.strokeStyle = \"#658060\";\n      // set the line width\n      this.ctx.lineWidth = 6;\n      this.ctx.beginPath();\n\n      // loop through the data and plot it on the canvas\n      for (let i = 0; i < data.length; i++) {\n        // calculate the x and y position of the point\n        let x = i * (this.canvas.width / data.length);\n        let y = (this.canvas.height / 2) * (1 - data[i]);\n\n        // move to the x and y position\n        this.ctx.moveTo(x, y);\n        // draw a line to the next point\n        this.ctx.lineTo(x + this.canvas.width / data.length, y);\n      }\n      // draw the line\n      this.ctx.stroke();\n      this.ctx.moveTo(0, 0);\n    },\n    updateOscilloscopeData() {\n      this.oscilloscopeData = this.oscilloscope.getValue();\n      this.draw(this.oscilloscopeData);\n      //console.log(this.oscilloscopeData);\n    },\n  },\n  computed: {\n    oscilloscopeCanvas(){\n      return{\n        background: this.colors.green.glow,\n      }\n    }\n  },\n  beforeDestroy() {\n    this.oscilloscope.dispose();\n  },\n};\n</script>\n\n<style>\n.oscilloscope {\n  grid-row: 2;\n  margin: 0.15vw 0.3vw 0.3vw;\n  box-sizing: border-box;\n  \n}\n.oscilloscopeCanvas {\n  width: 100%;\n  height: 100%;\n  background-color: #caffbf;\n  border-radius: 0.2vw;\n  border: 0.1vw solid #334030;\n  box-sizing: border-box;\n}\n</style>","import { render } from \"./Oscilloscope.vue?vue&type=template&id=127e937a\"\nimport script from \"./Oscilloscope.vue?vue&type=script&lang=js\"\nexport * from \"./Oscilloscope.vue?vue&type=script&lang=js\"\n\nimport \"./Oscilloscope.vue?vue&type=style&index=0&id=127e937a&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"spectral-analyzer\">\n    <canvas class=\"analyzerCanvas\" ref=\"canvas\" :style=\"this.analyzerCanvas\"></canvas>\n  </div>\n</template>\n\n<script>\nimport * as Tone from \"tone\";\nimport { dbToGain, gainToDb } from \"tone\";\n\nexport default {\n  data() {\n    return {\n      timing: 10,\n    };\n  },\n  mounted() {\n    this.analyser = new Tone.Analyser(\"fft\", 2048);\n    this.canvasCtx = this.$refs.canvas.getContext(\"2d\");\n    Tone.getDestination().connect(this.analyser);\n    this.startAnalyzer()\n  },\n  methods: {\n    draw() {\n      //requestAnimationFrame(this.draw);\n\n      this.data = this.analyser.getValue();\n      this.canvasCtx.strokeStyle = \"#658060\";\n      //console.log(this.data)\n\n      // clear the canvas\n      this.canvasCtx.clearRect(\n        0,\n        0,\n        this.$refs.canvas.width,\n        this.$refs.canvas.height\n      );\n        let x\n\n        \n\n      // render the analysis on the canvas\n      for (let i = 0; i < this.data.length; i++) {\n        \n        this.value = 6*dbToGain(this.data[i])*this.$refs.canvas.height;\n        //console.log(this.value)\n        x = (Math.log10(i) / Math.log10(2048)) * this.$refs.canvas.width\n        this.canvasCtx.fillStyle = \"black\";\n        this.canvasCtx.fillRect(x, this.$refs.canvas.height - this.value, 1, this.value);\n      }\n    },\n    startAnalyzer() {\n      //console.log(this.$refs.canvas.height)\n        //console.log(\"avviando analyzer con timer \"+this.timing)\n      this.intervalId = setInterval(() => {\n        this.draw();\n      }, 10);\n    },\n  },\n  computed: {\n    analyzerCanvas(){\n      return{\n        background: this.colors.green.glow\n      }\n    }\n  },\n  beforeDestroy() {},\n};\n</script>\n\n<style>\n.spectral-analyzer{\n  grid-row: 1;\n  margin: 0.3vw 0.3vw 0.15vw;\n  box-sizing: border-box;\n}\n.analyzerCanvas {\n  width: 100%;\n  height: 100%;\n  border-radius: 0.2vw;\n  border: 0.1vw solid #334030;\n  box-sizing: border-box;\n}\n</style>","import { render } from \"./SpecAnalyzer.vue?vue&type=template&id=3db195fc\"\nimport script from \"./SpecAnalyzer.vue?vue&type=script&lang=js\"\nexport * from \"./SpecAnalyzer.vue?vue&type=script&lang=js\"\n\nimport \"./SpecAnalyzer.vue?vue&type=style&index=0&id=3db195fc&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolsHost.vue?vue&type=template&id=082c9148\"\nimport script from \"./ToolsHost.vue?vue&type=script&lang=js\"\nexport * from \"./ToolsHost.vue?vue&type=script&lang=js\"\n\nimport \"./ToolsHost.vue?vue&type=style&index=0&id=082c9148&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"modHost\" :style=\"modHost\">\n     <VolEnvelope ref=\"volEnvelope\"/>\n    <template\n      v-for=\"modulator in envList\"\n      :key=\"modulator.id\">\n\n       <Envelope\n        :id=\"modulator.id\"\n        ref=\"envelopes\"\n      @isDraggableUpdate=\"handleDraggableUpdate\"/>\n    </template>\n    <template\n        v-for=\"modulator in lfoList\"\n        :key=\"modulator.id\">\n\n\n       <Lfo\n          :id=\"modulator.id\"\n          ref=\"lfos\"/>\n    </template>\n    <ModSelector\n      @selection=\"changeSelection\"\n      ref=\"modSelector\"/>\n  </div>\n</template>\n\n<script>\nimport * as Tone from \"tone\";\nimport Envelope from \"./Envelope.vue\";\nimport Lfo from \"./Lfo.vue\";\nimport VolEnvelope from \"./VolEnvelope.vue\";\nimport ModSelector from \"./ModSelector.vue\";\nimport { isProxy, toRaw } from 'vue';\n\nexport default {\n  components: {\n    VolEnvelope,\n    Envelope,\n    Lfo,\n    ModSelector,\n  },\n  data() {\n    return {\n      name: \"modHost\",\n      //number of total modulators\n\n      //visible modulator\n      selection: 'volEnvelope',\n      selectionType: null,\n\n      //list of modulators\n      envList: [],\n      lfoList: [],\n    };\n  },\n  created() {\n    //create arrays of modulators\n    for (let i = 1; i < this.nEnvelopes+1; i++) {\n      this.envList.push({ id: i, ref: i });\n    }\n    for (let i = 1; i < this.nLfo+1; i++) {\n      this.lfoList.push({ id: i, ref: i });\n    }\n    //console.log(toRaw(this.modulatorList));\n  },\n  mounted() {\n    //unhide main volume modulator\n    this.$refs.volEnvelope.unHide();\n    //console.log(this.$refs.volEnvelope)\n\n    //listens to link and unlink events\n    document.addEventListener(\"link\", this.handleLink)\n    document.addEventListener(\"unLink\", this.handleUnlink)\n  },\n  computed: {\n    modHost() {\n      return{\n        background: this.colors.gray.glow,\n      }\n    }\n  },\n  methods: {\n    handleDraggableUpdate(isDraggable){\n      this.$refs.modSelector.isDraggableUpdate(isDraggable)\n    },\n    handleNewOsc(){\n      //initialize volEnvelope on all synth when a new oscillator is added\n      this.$refs.volEnvelope.handleNewOsc();\n    },\n    handleMouseUp(e){\n      if(this.selection==='volEnvelope'){\n        this.$refs.volEnvelope.handleMouseUp(e)\n      }else{\n        if(this.selectionType===\"envelope\"){\n          toRaw(toRaw(this.$refs.envelopes)[this.selection-1]).handleMouseUp(e);\n        }\n        if(this.selectionType===\"lfo\"){\n          toRaw(toRaw(this.$refs.lfos)[this.selection-1]).handleMouseUp(e);\n        }\n      }\n    },\n    handleMouseMove(e){\n      if(this.selection==='volEnvelope'){\n        this.$refs.volEnvelope.handleMouseMove(e)\n      }else{\n        if(this.selectionType===\"envelope\"){\n          toRaw(toRaw(this.$refs.envelopes)[this.selection-1]).handleMouseMove(e);\n        }\n        if(this.selectionType===\"lfo\"){\n          toRaw(toRaw(this.$refs.lfos)[this.selection-1]).handleMouseMove(e);\n        }\n      }\n    },\n    changeSelection(id, type) {\n      //console.log(\"selected \"+id)\n      //console.log(this.$refs)\n\n      //hide old modulator\n      if(this.selection==='volEnvelope'){\n        this.$refs.volEnvelope.hide()\n      }else{\n        if(this.selectionType===\"envelope\"){\n          toRaw(toRaw(this.$refs.envelopes)[this.selection-1]).hide();\n        }\n        if(this.selectionType===\"lfo\"){\n          toRaw(toRaw(this.$refs.lfos)[this.selection-1]).hide();\n          toRaw(toRaw(this.$refs.lfos)[this.selection-1]).stopOscilloscope();\n        }\n      }\n\n\n      //show new modulator\n      if(id==='volEnvelope'){\n        this.$refs.volEnvelope.unHide()\n      }else{\n        if(type===\"envelope\"){\n          toRaw(toRaw(this.$refs.envelopes)[id-1]).unHide();\n        }\n        if(type===\"lfo\"){\n          toRaw(toRaw(this.$refs.lfos)[id-1]).unHide();\n        }\n      }\n\n\n      this.selection = id;\n      this.selectionType = type;\n      \n    },\n\n    //handlers for drag and drop\n    handleLink(event){\n      //console.log(\"link\")\n      let data = event.detail\n      //console.log(data)\n      //console.log(this.synths)\n      this.$refs[data.modulator.type+\"s\"][data.modulator.id-1].link(data.object, data.target, data.color)\n    },\n    handleUnlink(event){\n      //console.log(\"unLink\")\n      let data = event.detail\n      this.$refs[data.modulator.type+\"s\"][data.modulator.id-1].unLink(data.object, data.target)\n\n    }\n\n  },\n};\n</script>\n\n<style scoped>\n.modHost {\n  grid-column: span 2; /* takes 2 spaces horizontally*/\n  position: relative;\n  display: grid;\n  grid-template-rows: 80% 20%;\n  grid-template-columns: 100%;\n}\n</style>","<template>\n  <div ref=\"container\" class=\"container hidden\" :style=\"this.container\">\n    <div class=\"border\" :style=\"this.border\">\n      <EnvelopeVisualizer ref=\"visualizer\" :is_volume=\"false\" @paramRefresh=\"handleRefresh\"/>\n      <Knobs ref=\"knobs\" type=\"envelope\" :id=\"this.id\" :parameters=\"this.parameters\"\n             @isDraggableUpdate=\"handleDraggableUpdate\"/>\n      <div> </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {transcode} from \"buffer\";\nimport * as Tone from \"tone\";\nimport ToolsHost from \"../Tools/ToolsHost.vue\";\nimport Knobs from \"./Knobs.vue\";\nimport VolEnvelope from \"@/views/Synth/Modulators/VolEnvelope.vue\";\nimport Lfo from \"@/views/Synth/Modulators/Lfo.vue\";\nimport ModSelector from \"@/views/Synth/Modulators/ModSelector.vue\";\nimport EnvelopeVisualizer from \"./EnvelopeVisualizer.vue\";\n\nexport default {\n  components: {\n    EnvelopeVisualizer, Knobs,\n  },\n  props: [\"id\"],\n  data() {\n    return {\n      parameters: {\n        attack: 0.01 * 2.5,\n        attackCurve: \"linear\",\n        decay: 0.1 * 2.5,\n        decayCurve: \"linear\",\n        releaseCurve: \"linear\",\n        release: 0.1 * 2.5,\n        sustain: 0.5,\n      },\n\n    }\n  },\n  methods: {\n    //UPDATE PARAMS CHANGED IN ENVELOPE VISUALIZER\n    handleRefresh(parameters) {\n      this.parameters = parameters\n      this.$refs.knobs.updateParameters(this.parameters)\n    },\n    //-------------METHODS TO LINK WHEN DROPPING\n    link(object, target, color) {\n      //console.log(\"THINGS HAPPENING \"+section+\" \"+target)\n      this.$refs.knobs.addLink(object, target, color)\n\n    },\n    unLink(object, target) {\n      //console.log(\"THINGS HAPPENING \")\n      //console.log(object)\n      //console.log(target)\n      this.$refs.knobs.removeLink(object, target)\n    },\n    handleDraggableUpdate(isDraggable) {\n      this.$emit(\"isDraggableUpdate\", isDraggable)\n    },\n    //--------------METHODS TO SHOW/HIDE------------\n    unHide() {\n      this.$refs.container.classList.remove(\"hidden\");\n    },\n    hide() {\n      this.$refs.container.classList.add(\"hidden\");\n    },\n    //----------------------------------------------\n    handleMouseMove(e) {\n      this.$refs.visualizer.handleMouseMove(e);\n      this.$refs.knobs.handleMouseMove(e);\n    },\n    handleMouseUp(e) {\n      this.$refs.visualizer.handleMouseUp(e);\n      this.$refs.knobs.handleMouseUp(e);\n    }\n  },\n  computed: {\n    border(){\n      return{\n        background: '#ceeae7'\n      }\n    },\n    container(){\n      return{\n        background: this.colors.azure.medium\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.border {\n  grid-template-columns: calc(6 / 8 * 100%) calc(2 / 8 * 100%);\n  grid-template-rows: 100% ;\n\n  position: relative;\n  display: grid;\n  width: calc(100% - 0.6vw);\n  height: calc(100% - 0.6vw);\n  box-sizing: border-box;\n  margin: 0.3vw;\n  border-radius: 0.2vw;\n  border: 0.1vw solid #334030;\n}\n\n.container {\n  grid-column: span 2;\n  width: 100%;\n  height: 100%;\n}\n\n.hidden {\n  display: none;\n}\n\n.envelope {\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  box-sizing: border-box;\n}\n\n.centering {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n</style>","<template>\n  <div class=\"knobs\">\n    <div v-for=\"knob in knobList\" :key=\"knob.id\" :ref=\"knob.ref\" class=\"knob\" @mousedown=\"mouseDown(knob.id)\">\n      <div class=\"knob_fader_background\"></div>\n      <div v-if=\"knob.isOn===true\" class=\"knob_fader\" :style=\"computedFaderStyle(knob.id)\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { isProxy, toRaw } from 'vue';\nexport default {\n  props: [\"type\", \"id\", \"parameters\"],\n  name: \"Knobs\",\n  data() {\n    return {\n      knobList: [],\n      freeKnobs: this.nKnobs,\n      isMouseDown: false,\n      selectedKnobId: \"\",\n    }\n  },\n  mounted() {\n    for (let i = 0; i < this.nKnobs; i++) {\n      this.knobList.push({id: i, ref: \"knob\" + i, isOn:false, amount: 0, object: null, target: null});\n    }\n\n    //Set available state (isDraggable)\n    this.isDraggable[this.type][this.id] = true\n\n  },\n  methods: {\n    updateParameters(parameters=this.parameters){\n     // console.log(\"UPDATING PARAMETERS\", parameters)\n      for(let i=0; i<this.nKnobs; i++){\n        if(this.knobList[i].isOn) {\n          this.knobList[i].object.setModulatorParameters(this.type, this.knobList[i].target, parameters)\n          break\n        }\n      }\n    },\n\n    knobText(id){\n      if(this.knobList[id].isOn===true){\n        return this.knobList[id].amount\n      }else{\n        return \"yo\"\n      }\n    },\n\n    addLink(object, target, color, parameters=this.parameters){\n      for(let i=0; i<this.nKnobs; i++){\n        if(!this.knobList[i].isOn) {\n          this.knobList[i].color = color\n          this.knobList[i].isOn = true;\n          this.knobList[i].amount= 0.5;\n          this.knobList[i].object = object\n          this.knobList[i].target = target\n          this.freeKnobs -= 1;\n\n          //set modulator amount at object\n          console.log(\"ADDING LINK\")\n          console.log(parameters)\n          object.setModulatorParameters(this.type, target, parameters)\n          object.setModulatorAmount(this.type, target, this.knobList[i].amount)\n          break;\n        }\n      }\n      if (this.freeKnobs === 0) this.isDraggable[this.type][this.id] = false\n      this.$emit(\"isDraggableUpdate\", this.isDraggable)\n      //todo: event to set isDraggable inside modSelector NOT WORKING\n    },\n\n    removeLink(object, target){\n      //console.log(\"REMOVING LINK TO\"+target)\n      //console.log(object)\n\n      this.knobList.forEach((knob) => {\n        knob.amount = knob.amount+0.01\n        knob.amount = knob.amount-0.01\n        knob = toRaw(knob)\n        if (knob.object === object && knob.target === target) {\n          knob.object.setModulatorAmount(this.type, target, 0)\n          //remove info from knob\n          knob.amount = 0\n          knob.isOn = false\n          knob.object = null\n          knob.target = null\n        }\n      })\n      this.freeKnobs++;\n      this.isDraggable[this.type][this.id] = true\n    },\n\n    handleMouseMove(e) {\n\n      if(this.isMouseDown &&  this.knobList[this.selectedKnobId].isOn){\n        this.knobList[this.selectedKnobId].amount = this.knobList[this.selectedKnobId].amount - Math.floor(e.movementY) / 100;\n        this.knobList[this.selectedKnobId].amount = Math.max(this.knobList[this.selectedKnobId].amount, 0)\n        this.knobList[this.selectedKnobId].amount = Math.min(this.knobList[this.selectedKnobId].amount, 1)\n        this.knobList[this.selectedKnobId].object.setModulatorAmount(this.type, this.knobList[this.selectedKnobId].target, this.knobList[this.selectedKnobId].amount)\n\n      }\n\n    },\n\n    mouseDown(knobId){\n      this.isMouseDown = true;\n      this.selectedKnobId = knobId;\n    },\n\n    computedFaderStyle(id) {\n      let rawKnobAmount = this.knobList[id].amount\n        return {\n          backgroundColor: this.knobList[id].color,\n          height: (rawKnobAmount * 100).toString() + \"%\"\n        }\n    },\n\n    handleMouseUp() {\n      this.isMouseDown = false;\n    },\n  },\n  computed: {\n  }\n}\n</script>\n\n<style scoped>\n.knobs {\n  margin: 2%;\n  border-radius: 0.3vw;\n  box-sizing: border-box;\n  position: relative;\n  display: grid;\n  grid-template-rows: repeat(3, 1fr);\n  column-gap: 1vw;\n  row-gap: 1vw;\n  grid-template-columns: repeat(3, 1fr);\n  align-content: center;\n  justify-content: center;\n  align-items: stretch;\n  justify-items: center;\n  padding: 4%;\n  border: 0.06vw solid black;\n}\n\n.knob {\n  aspect-ratio: 1/1;\n  clip-path: circle(50%);\n  position: relative;\n  vertical-align: bottom;\n  background-color: whitesmoke;\n  display: grid;\n}\n\n.knob_fader {\n  position: absolute;\n  height: 0%;\n  box-sizing: border-box;\n  align-self: end;\n  width: 100%;\n  background-color: transparent;\n  border-bottom-left-radius: 0.4vw;\n  border-bottom-right-radius: 0.4vw;\n  background-clip: content-box;\n  padding: 0.1vw;\n  z-index: 101;\n}\n\n.knob_fader_background {\n  clip-path: circle(50%);\n  box-sizing: border-box;\n  aspect-ratio: 1/1;\n  height: 100%;\n  background-color: transparent;\n  border: 0.1vw solid black;\n  border-radius: 50%;\n  z-index: 102;\n}\n</style>","import { render } from \"./Knobs.vue?vue&type=template&id=245c68f8&scoped=true\"\nimport script from \"./Knobs.vue?vue&type=script&lang=js\"\nexport * from \"./Knobs.vue?vue&type=script&lang=js\"\n\nimport \"./Knobs.vue?vue&type=style&index=0&id=245c68f8&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-245c68f8\"]])\n\nexport default __exports__","<template>\n  <div ref=\"container\" class=\"container hidden\" :style=\"this.container\">\n    <div class=\"border\" :style=\"this.border\">\n      <EnvelopeVisualizer ref=\"visualizer\" :is_volume=\"true\" @paramRefresh=\"handleRefresh\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { transcode } from \"buffer\";\nimport * as Tone from \"tone\";\nimport ToolsHost from \"../Tools/ToolsHost.vue\";\nimport EnvelopeVisualizer from \"./EnvelopeVisualizer.vue\";\nexport default {\n  props: [\"id\"],\n  components: {\n    EnvelopeVisualizer\n  },\n  data() {\n    return {\n      tempEvent: null,\n      type: \"envelope\",\n      parameters: {\n      },\n      knobList: [],\n      is_attack_down: false,\n      is_decay_down: false,\n      is_sustain_down: false,\n      is_release_down: false,\n    };\n  },\n  mounted() {\n     this.parameters = {\n      attack: 0.1,\n      attackCurve: \"linear\",\n      decay: 0.5,\n      decayCurve: \"linear\",\n      sustain: 0.5,\n      releaseCurve: \"linear\",\n      release: 1,\n      scale: 1,\n    }; \n    for (let i = 0; i < 9; i++) {\n      this.knobList.push({ id: i, ref: \"knob\" + i });\n    }\n  },\n  methods: {\n    handleRefresh(parameters) {\n      this.parameters = parameters\n      this.synths.list.forEach((synth) => {\n        synth.setModulatorParameters(\"envelope\", \"vol\", this.parameters);\n      });\n    },\n    handleNewOsc() {\n      //called when a new osc is created to set default values\n      this.synths.list.forEach((synth) => {\n        synth.setModulatorParameters(\"envelope\", \"vol\", this.parameters);\n      })\n    },\n    unHide() {\n      this.$refs.container.classList.remove(\"hidden\");\n    },\n    hide() {\n      this.$refs.container.classList.add(\"hidden\");\n    },\n    handleMouseMove(e) {\n      this.$refs.visualizer.handleMouseMove(e);\n    },\n    handleMouseUp(e) {\n      this.$refs.visualizer.handleMouseUp(e);\n    }\n  },\n  computed: {\n    border() {\n      return {\n        background: '#f8e7e6',\n        opacity: '100%'\n      }\n    },\n    container() {\n      return {\n        background: this.colors.pink.medium\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.border {\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n\n  position: relative;\n  display: grid;\n  width: calc(100% - 0.6vw);\n  height: calc(100% - 0.6vw);\n  box-sizing: border-box;\n  margin: 0.3vw;\n  border-radius: 0.2vw;\n  border: 0.1vw solid #334030;\n}\n\n.container {\n  position: relative;\n  display: grid;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n\n.hidden {\n  display: none;\n}\n</style>","<template>\n    <div class=\"envelope_container\" :style=\"this.envelope_container\">\n        <div class=\"envelope\" ref=\"envelope\" :style=\"this.adsr\">\n            <div class=\"attack_area\" :style=\"attack_area\" @mousedown=\"attack_down()\"></div>\n            <div class=\"decay_area\" :style=\"decay_area\" @mousedown=\"decay_down()\"></div>\n            <div class=\"sustain_area\" :style=\"sustain_area\" @mousedown=\"sustain_down()\"></div>\n            <div class=\"release_area\" :style=\"release_area\" @mousedown=\"release_down()\"></div>\n            <div class=\"attack_dot\" :style=\"attack_dot\" @mousedown=\"attack_down()\"></div>\n            <div class=\"decay_dot\" :style=\"decay_dot\" @mousedown=\"decay_down()\"></div>\n            <div class=\"release_dot\" :style=\"release_dot\" @mousedown=\"release_down()\"></div>\n\n            <div class=\"attack\" :style=\"this.attack\">\n                <div class=\"attack_color\" :style=\"this.attack_Color\"></div>\n            </div>\n            <div class=\"decay\" :style=\"this.decay\">\n                <div class=\"decay_head\" :style=\"this.decay_head\"></div>\n                <div class=\"decay_color\" :style=\"this.decay_Color\"></div>\n            </div>\n            <div class=\"sustain\" :style=\"this.sustain\">\n                <div class=\"sustain_head\" :style=\"this.sustain_head\"></div>\n                <div class=\"sustain_color\" :style=\"this.sustain_Color\"></div>\n            </div>\n            <div class=\"release\" :style=\"this.release\">\n                <div class=\"release_color\" :style=\"this.release_Color\"></div>\n            </div>\n\n            <div class=\"space\" :style=\"this.space\"></div>\n\n            <!--<div class=\"time_strech\" :style=\"this.time_Stretch\"></div>-->\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: ['is_volume'],\n    data() {\n        return {\n            //tempEvent: null,\n            type: \"envelope\",\n            parameters: {\n                attack: 0.01,\n                attackCurve: \"linear\",\n                decay: 0.1,\n                decayCurve: \"linear\",\n                sustain: 0.1,\n                releaseCurve: \"linear\",\n                release: 0.1,\n                sustain_lev: 0.5,\n                duration: 4,\n            },\n            is_attack_down: false,\n            is_decay_down: false,\n            is_sustain_down: false,\n            is_release_down: false,\n            test: 10,\n        };\n    },\n    mounted() {\n        \n    },\n    methods: {\n\n        handleMouseMove(e) {\n            //console.log(e)\n            if (this.isDragging) {\n                this.tempEvent = e;\n            }\n            let p = this.parameters;\n            if (this.is_attack_down) { // attack\n                if (e.movementX > 0) {\n                    /* console.log(p.attack,); */\n                    p.attack = Math.min(p.attack + e.movementX / (this.$refs.envelope.offsetWidth), 1 - (p.decay + p.sustain + p.release));\n                }\n                if (e.movementX < 0) {\n                   /*  console.log(p.attack); */\n                    p.attack = Math.max(p.attack + e.movementX / (this.$refs.envelope.offsetWidth), 0);\n                }\n            }\n            if (this.is_decay_down) { // decay\n                if (e.movementX > 0) {\n                   /*  console.log(p.attack,); */\n                    p.decay = Math.min(p.decay + e.movementX / (this.$refs.envelope.offsetWidth), 1 - (p.attack + p.sustain + p.release));\n                }\n                if (e.movementX < 0) {\n                    /* console.log(p.attack); */\n                    p.decay = Math.max(p.decay + e.movementX / (this.$refs.envelope.offsetWidth), 0);\n                }\n                if (e.movementY > 0) {\n                    p.sustain_lev = Math.max(p.sustain_lev - e.movementY / 100, 0);\n                } else if (e.movementY < 0) {\n                    p.sustain_lev = Math.min(p.sustain_lev - e.movementY / 100, 1);\n                }\n                /* console.log(p.sustain_lev); */\n            }\n            if (this.is_sustain_down) { // sustain\n                if (e.movementX > 0) {\n                    /* console.log(p.attack,); */\n                    p.decay = Math.min(p.decay + e.movementX / (this.$refs.envelope.offsetWidth), 1 - (p.attack + p.sustain + p.release));\n                }\n                if (e.movementX < 0) {\n                    /* console.log(p.attack); */\n                    p.decay = Math.max(p.decay + e.movementX / (this.$refs.envelope.offsetWidth), 0);\n                }\n                if (e.movementY > 0) {\n                    p.sustain_lev = Math.max(p.sustain_lev - e.movementY / 100, 0);\n                } else if (e.movementY < 0) {\n                    p.sustain_lev = Math.min(p.sustain_lev - e.movementY / 100, 1);\n                }\n                /* console.log(p.sustain_lev); */\n            }\n            if (this.is_release_down) { // release\n                if (e.movementX > 0) {\n                    /* console.log(p.attack,); */\n                    p.release = Math.min(p.release + e.movementX / (this.$refs.envelope.offsetWidth), 1 - (p.decay + p.sustain + p.attack));\n                }\n                if (e.movementX < 0) {\n                    /* console.log(p.attack); */\n                    p.release = Math.max(p.release + e.movementX / (this.$refs.envelope.offsetWidth), 0);\n                }\n            }\n            if (this.is_attack_down || this.is_decay_down || this.is_sustain_down || this.is_release_down) {\n\n                let parameters = {\n                    attack: this.parameters.attack * this.parameters.duration,\n                    decay: this.parameters.decay * this.parameters.duration,\n                    sustain: this.parameters.sustain_lev,\n                    release: this.parameters.release * this.parameters.duration,\n                }\n                this.$emit(\"paramRefresh\", parameters)\n            }\n\n\n        },\n        handleMouseUp() {\n            /*if (this.isDragging) {\n              console.log(this.tempEvent.target)\n              this.isDragging = false\n            }*/\n            //console.log(\"mouseUp\");\n            this.is_attack_down = false;\n            this.is_decay_down = false;\n            this.is_sustain_down = false;\n            this.is_release_down = false;\n        },\n        attack_down() {\n            if (!this.is_attack_down) this.is_attack_down = true;\n        },\n        decay_down() {\n            if (!this.is_decay_down) this.is_decay_down = true;\n        },\n        sustain_down() {\n            if (!this.is_sustain_down) this.is_sustain_down = true;\n        },\n        release_down() {\n            if (!this.is_release_down) this.is_release_down = true;\n        }\n    },\n    computed: {\n        envelope_container() {\n            let color = '';\n            if (this.$props['is_volume']) color = this.colors.pink.medium\n            else color = this.colors.azure.medium\n            return {\n                background: color\n            }\n        },\n        adsr() {\n            /* console.log(((this.parameters.attack - this.parameters.sustain) * 100).toFixed(2)) */\n            let color = '';\n            if (this.$props['is_volume']) color = '#f8e7e6'\n            else color = '#ceeae7'\n            return {\n                display: \"grid\",\n                opacity: '100%',\n                background: color,\n                gridTemplateColumns: this.parameters.attack * 100 + '% '\n                    + Math.ceil(this.parameters.decay * 100) + '% '\n                    + Math.ceil(this.parameters.sustain * 100) + '% '\n                    + Math.ceil(this.parameters.release * 100) + '% '\n                    + '10% '\n            };\n        },\n        attack() {\n            return {\n                height: \"100%\",\n                width: \"100%\",\n                clipPath: \"polygon(0% 100%, 100% 0%, 100% 100%)\",\n            };\n        },\n        decay() {\n            return {\n                height: \"100%\",\n            };\n        },\n        sustain() {\n            return {\n                display: \"grid\",\n                gridTemplateRows:\n                    (1 - this.parameters.sustain_lev) * 100 +\n                    \"% \" +\n                    this.parameters.sustain_lev * 100 +\n                    \"%\",\n                height: \"100%\",\n            };\n        },\n        release() {\n            return {\n                height: \"100%\",\n                clipPath:\n                    \"polygon(0% \" +\n                    (1 - this.parameters.sustain_lev) * 100 +\n                    \"%, 0% 100%, 100% 100%)\",\n            };\n        },\n        attack_Color() {\n            let color = '';\n            if (this.$props['is_volume']) color = this.colors.pink.dark\n            else color = this.colors.azure.dark\n            return {\n                height: \"100%\",\n                background: color,\n            };\n        },\n        decay_Color() {\n            let color ='';\n            if(this.$props['is_volume']) color= this.colors.pink.medium\n            else color = this.colors.azure.medium\n            return {\n                position: 'relative',\n                height: \"100%\",\n                background: color,\n                top: (this.parameters.sustain_lev - 1) * 100 + \"%\",\n            };\n        },\n        sustain_Color() {\n            let color ='';\n            if(this.$props['is_volume']) color= this.colors.pink.light\n            else color = this.colors.azure.light\n            return {\n                zIndex: '1',\n                height: \"100%\",\n                background: color,\n            };\n        },\n        release_Color() {\n            let color ='';\n            if(this.$props['is_volume']) color= this.colors.pink.light\n            else color = this.colors.azure.light\n            return {\n                height: \"100%\",\n                background: color,\n                opacity: '60%'\n            };\n        },\n        decay_head() {\n            let color ='';\n            if(this.$props['is_volume']) color= '#f8e7e6'\n            else color = '#ceeae7'\n            return {\n                position: 'relative',\n                zIndex: '3',\n                background: color,\n                opacity:'100%',\n                top:'-1%',\n                clipPath: \"polygon(0% 0%, 100% 100%, 100% 0%)\",\n                height: (1 - this.parameters.sustain_lev) * 100 + \"%\",\n                width: \"102%\",\n            };\n        },\n        sustain_head() {\n            return {\n                background: \"transparent\",\n            };\n        },\n\n        attack_dot() {\n            let color ='';\n            let borderColor='';\n            if(this.$props['is_volume']){ \n                color= this.colors.pink.dark\n                borderColor = this.colors.pink.glow\n                }\n            else {\n                color = this.colors.azure.dark\n                borderColor = this.colors.azure.glow\n            }\n            return {\n                border: '.1vw solid ' + borderColor,\n                background: color,\n                aspectRatio: \"1/1\",\n                height: \"7%\",\n                position: \"absolute\",\n                zIndex: \"4\",\n                borderRadius: \"50%\",\n                left: this.parameters.attack * 100 - 1 + \"%\",\n                top: \"-2%\",\n            };\n        },\n        decay_dot() {\n            let color ='';\n            let borderColor='';\n            if(this.$props['is_volume']){ \n                color= this.colors.pink.medium\n                borderColor = this.colors.pink.dark\n                }\n            else {\n                color = this.colors.azure.medium\n                borderColor = this.colors.azure.dark\n            }\n            return {\n                border: '.1vw solid ' + borderColor,\n                background: color,\n                aspectRatio: \"1/1\",\n                height: \"7%\",\n                position: \"absolute\",\n                zIndex: \"5\",\n                borderRadius: \"50%\",\n                left: (this.parameters.decay + this.parameters.attack) * 100 - .9 + \"%\",\n                top: (1 - this.parameters.sustain_lev) * 100 - 5 + \"%\",\n            };\n        },\n        release_dot() {\n            let color ='';\n            let borderColor='';\n            if(this.$props['is_volume']){ \n                color= this.colors.pink.glow\n                borderColor = this.colors.pink.dark\n                }\n            else {\n                color = this.colors.azure.glow\n                borderColor = this.colors.azure.dark\n            }\n            return {\n                border: '.1vw solid ' + borderColor,\n                opacity: '60%',\n                background: color,\n                aspectRatio: \"1/1\",\n                height: \"7%\",\n                position: \"absolute\",\n                zIndex: \"2\",\n                borderRadius: \"50%\",\n                left: (this.parameters.attack + this.parameters.decay + this.parameters.sustain + this.parameters.release) * 100 - 1 + \"%\",\n                top: \"95%\",\n            };\n        },\n        space() {\n            return {\n                background: \"transparent\",\n            };\n        },\n\n        attack_area() {\n            return {\n                background: \"transparent\",\n                aspectRatio: \"1/1\",\n                width: \"10%\",\n                position: \"absolute\",\n                zIndex: \"4\",\n                borderRadius: \"50%\",\n                left: this.parameters.attack * 100 - 5 + \"%\",\n            };\n        },\n        decay_area() {\n            return {\n                background: \"transparent\",\n                aspectRatio: \"1/1\",\n                width: \"10%\",\n                position: \"absolute\",\n                zIndex: \"4\",\n                borderRadius: \"50%\",\n                left: (this.parameters.decay + this.parameters.attack) * 100 - 5 + \"%\",\n                top: (1 - this.parameters.sustain_lev) * 100 - 20 + \"%\",\n            };\n        },\n        sustain_area() {\n            return {\n                background: \"transparent\",\n                aspectRatio: \"16/9\",\n                width: \"10%\",\n                position: \"absolute\",\n                zIndex: \"4\",\n                borderRadius: \"50%\",\n                left: (this.parameters.attack + this.parameters.decay + this.parameters.sustain) * 100 - 10 + \"%\",\n                top: (1 - this.parameters.sustain_lev) * 100 - 12 + \"%\",\n            };\n        },\n        release_area() {\n            return {\n                background: \"transparent\",\n                aspectRatio: \"1/1\",\n                width: \"7%\",\n                position: \"absolute\",\n                zIndex: \"4\",\n                borderRadius: \"50%\",\n                left: (this.parameters.attack + this.parameters.decay + this.parameters.sustain + this.parameters.release) * 100 - 5 + '%',\n                top: '80%'\n            };\n        },\n    }\n\n}\n</script>\n\n<style scoped>\n.envelope_container {\n    position: relative;\n    margin: 0.5vw 1vw 0.5vw 1vw;\n}\n\n.envelope {\n    width: 100%;\n    height: 100%;\n    background-color: transparent;\n    box-sizing: border-box;\n}\n</style>","import { render } from \"./EnvelopeVisualizer.vue?vue&type=template&id=e11eb42e&scoped=true\"\nimport script from \"./EnvelopeVisualizer.vue?vue&type=script&lang=js\"\nexport * from \"./EnvelopeVisualizer.vue?vue&type=script&lang=js\"\n\nimport \"./EnvelopeVisualizer.vue?vue&type=style&index=0&id=e11eb42e&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e11eb42e\"]])\n\nexport default __exports__","import { render } from \"./VolEnvelope.vue?vue&type=template&id=480d7e20&scoped=true\"\nimport script from \"./VolEnvelope.vue?vue&type=script&lang=js\"\nexport * from \"./VolEnvelope.vue?vue&type=script&lang=js\"\n\nimport \"./VolEnvelope.vue?vue&type=style&index=0&id=480d7e20&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-480d7e20\"]])\n\nexport default __exports__","<template>\n  <div ref=\"container\" class=\"container hidden\" :style=\"this.container\">\n    <div class=\"border\" :style=\"this.border\">\n      <div class=\"lfo_elems_row\" :style=\"this.lfo_elems_row\">\n        <!-- MODULATION AMOUNT: REGULATES THE AMPLITUDE OF THE LFO !!!!! broken !!!!!!\n      <div class=\"lfoFaderBase volFaderBase\" @mousedown=\"isDepthFaderDown=true\">\n        <div class=\"lfoDepthFaderLevel\" :style=\"this.lfoDepthFaderLevel\"></div>\n      </div> -->\n      <LfoVisualizer ref=\"visualizer\" :freq=\"this.freq\" :depth=\"this.depth\" :wave=\"this.waveform\"></LfoVisualizer>\n      <div class=\"lfo_controls_column\" >\n        <div class=\"lfoFaderBase freqFader\" :style=\"this.lfoFaderBase\" @mousedown=\"isFreqFaderDown=true\">\n          <div class=\"lfoFreqFaderLevel\" :style=\"this.lfoFreqFaderLevel\"></div>\n        </div>\n        <div class=\"lfo_waveform-btn-selector\" :style=\"lfo_waveform_btn_selector\" @click=\"nextWaveType\">\n          <img v-if=\"this.waveform==='sine'\" class=\"lfo_waveform_btn_icon\" src=\"@/icons/sine.svg\" alt=\"\" draggable=\"false\">\n          <img v-if=\"this.waveform==='triangle'\" class=\"lfo_waveform_btn_icon\" src=\"@/icons/triangle.svg\" alt=\"\" draggable=\"false\">\n          <img v-if=\"this.waveform==='square'\" class=\"lfo_waveform_btn_icon\" src=\"@/icons/square.svg\" alt=\"\" draggable=\"false\">\n          <img v-if=\"this.waveform==='sawtooth'\" class=\"lfo_waveform_btn_icon\" src=\"@/icons/saw.svg\" alt=\"\" draggable=\"false\">\n\n        </div>\n      </div>\n    </div>\n\n    <Knobs ref=\"knobs\" type=\"lfo\" :id=\"this.id\" :parameters=\"this.parameters\"/>\n  </div>\n  </div>\n</template>\n\n<script>\nimport LfoVisualizer from \"@/views/Synth/Modulators/LfoVisualizer\";\nimport * as Tone from \"tone\";\nimport Knobs from \"./Knobs.vue\";\nimport { toRaw } from \"vue\";\n\nconst waveforms = ['sine', 'triangle', 'square', 'sawtooth']\nexport default {\n  components: { LfoVisualizer, Knobs },\n  props: [\"id\"],\n\n  data() {\n    return {\n      freq: 10,\n      depth: 0.8,\n      isDepthFaderDown: false,\n      isFreqFaderDown: false,\n      waveform: waveforms[0],\n      waveformId: 0,\n      parameters: {}\n\n    }\n  },\n\n  mounted() {\n    //document.addEventListener(\"mousemove\", this.onMouseMove); // todo: remove this\n    //console.log(\"mounted - this.waveformId: \" + this.waveformId + \" - this.waveform: \" + this.waveform)\n\n    this.parameters = {\n      frequency: this.freq,\n      waveform: this.waveform\n    }\n  },\n\n  computed: {\n    lfoDepthFaderLevel() {\n      //console.log(\"lfoDepthFaderLevel\")\n      return {\n        top: ((1 - this.depth) * 85).toString() + \"%\"\n      }\n    },\n    lfo_elems_row() {\n      return {\n        background: this.colors.purple.medium\n      }\n    },\n    lfoFaderBase() {\n      return {\n        background: this.colors.purple.glow\n      }\n    },\n    lfoFreqFaderLevel() {\n      return {\n        top: ((20 - this.freq) / 20 * 85).toString() + \"%\",\n        background: this.colors.purple.light,\n        borderColor: this.colors.purple.dark\n      }\n    },\n    lfo_waveform_btn_selector() {\n      return {\n        borderColor: this.colors.purple.dark,\n        background: this.colors.purple.light,\n        color: this.colors.gray.dark\n      }\n    },\n    container(){\n      return {\n        background: this.colors.purple.glow\n      }\n    },\n    border(){\n      return{\n        background: this.colors.purple.glow\n      }\n    }\n  },\n\n  methods: {\n    setParams({ freq = this.freq, depth = this.depth, waveform = this.waveform}) {\n      if (freq <= 20) {\n        this.freq = freq;\n      } else {\n        this.freq = 20\n      }\n      if(typeof waveform === 'number') {\n        this.waveformId = waveform;\n        if(this.waveformId === 0 || this.waveformId === 1) {\n          this.waveform = waveforms[this.waveformId]\n        } else {\n          console.log(\"ERROR: Called Non existing lfo wave type Id\")\n        }\n      } else if(typeof waveform === 'string'){\n        this.waveform = waveform;\n        waveforms.forEach( (waveformNameString, index) => {\n          if(waveformNameString === this.waveform) this.waveformId = index;\n        })\n      }\n      this.parameters.waveform = this.waveform;\n      this.depth = depth;\n      this.$refs.visualizer.updateParams({freq: this.freq, depth: this.depth})\n      this.$refs.knobs.updateParameters(this.parameters)\n\n    },\n\n    nextWaveType(){\n      this.waveformId++;\n      if(this.waveformId > waveforms.length-1) this.waveformId = 0;\n      this.waveform = waveforms[this.waveformId]\n      this.parameters.waveform = this.waveform;\n      // console.log(\"nextWaveType - this.waveformId: \" + this.waveformId + \" - this.waveform: \" + this.waveform)\n\n\n      //console.log(\"CHANGING WAVE TYPE TO: \" + this.waveform)\n      this.$refs.knobs.updateParameters(this.parameters)\n      this.$refs.visualizer.updateParams({ waveform: this.waveform, frequency: this.freq })\n    },\n\n    startOscilloscope() {\n      //console.log(\"start LFO graphics\")\n      this.$refs.visualizer.startOscilloscope();\n    },\n    stopOscilloscope() {\n      //console.log(\"stop LFO graphics\")\n      this.$refs.visualizer.stopOscilloscope();\n    },\n    resetOscilloscope() {\n      this.$refs.visualizer.stopOscilloscope();\n      this.$refs.visualizer.startOscilloscope();\n\n    },\n    // ---------- USER GESTURE ----------\n\n    depthFaderSelected() {\n      //console.log(\"depthFaderSelected\")\n      this.isDepthFaderDown = true;\n    },\n    freqFaderSelected() {\n      //console.log(\"freqFaderSelected\")\n      this.isFreqFaderDown = true;\n    },\n\n    handleMouseMove(event) {\n      //console.log(\"lfo - handleMouseMove\")\n     this.$refs.knobs.handleMouseMove(event)\n      if (this.isDepthFaderDown) {\n        if (event.movementY < 0) {\n          // Mouse is moving dowm\n          this.depth = this.depth - event.movementY / 100;\n          //console.log(\"moving up\");\n        } else {\n          // Mouse is moving up\n          this.depth = this.depth - event.movementY / 100;\n          //console.log(\"moving down\");\n        }\n        this.depth = Math.max(this.depth, 0);\n        this.depth = Math.min(this.depth, 1);\n\n        //console.log(\"lfo depth: \" + this.depth)\n        this.$refs.visualizer.updateParams({depth: this.depth})\n      }\n      if (this.isFreqFaderDown) {\n        if (event.movementY < 0) {\n          // Mouse is moving dowm\n          this.freq = this.freq - 20 * (event.movementY / 100);\n          //console.log(\"moving up\");\n        } else {\n          // Mouse is moving up\n          this.freq = this.freq - 20 * (event.movementY / 100);\n        }\n        this.freq = Math.max(this.freq, 1);\n        this.freq = Math.min(this.freq, 20);\n\n        //console.log(\"lfo freq: \" + this.freq)\n        this.parameters.frequency = this.freq\n        this.$refs.visualizer.updateParams({freq: this.freq})\n        this.$refs.knobs.updateParameters(this.parameters)\n      }\n    },\n    handleMouseUp() {\n      if (this.isFreqFaderDown) this.isFreqFaderDown = false\n      if (this.isDepthFaderDown) this.isDepthFaderDown = false\n\n      this.$refs.knobs.handleMouseUp()\n    },\n\n    unHide() {\n      this.$refs.container.classList.remove(\"hidden\");\n      this.startOscilloscope()\n    },\n    hide() {\n      this.$refs.container.classList.add(\"hidden\");\n    },\n\n    //-------------METHODS TO LINK WHEN DROPPING\n    link(object, target, color) {\n      //console.log(\"THINGS HAPPENING \"+section+\" \"+target)\n      this.$refs.knobs.addLink(object, target, color)\n\n    },\n    unLink(object, target) {\n      //console.log(\"THINGS HAPPENING \")\n      //console.log(object)\n      //console.log(target)\n      this.$refs.knobs.removeLink(object, target)\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n.border {\n  grid-template-columns: calc(6 / 8 * 100%) calc(2 / 8 * 100%);\n  grid-template-rows: 100% ;\n\n  position: relative;\n  display: grid;\n  width: calc(100% - 0.6vw);\n  height: calc(100% - 0.6vw);\n  box-sizing: border-box;\n  margin: 0.3vw;\n  border-radius: 0.2vw;\n  border: 0.1vw solid #334030;\n}\n.container {\n  grid-column: span 2;\n  width: 100%;\n  height: 100%;\n}\n\n.hidden {\n  display: none;\n}\n\n.lfo_elems_row {\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  align-items: center;\n  justify-items: center;\n  justify-content: center;\n}\n\n.lfoFaderBase {\n  position: absolute;\n  top: 5%;\n  left: 30%;\n  aspect-ratio: 1/10;\n  border-radius: 5vw;\n  height: 70%;\n}\n\n.lfoDepthFaderLevel {\n  position: relative;\n  width: 100%;\n  border-radius: 5vw;\n  height: 15%;\n  background-color: white;\n  top: 80%\n}\n\n.lfoFreqFaderLevel {\n  position: relative;\n  width: 100%;\n  height: 20%;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 5vw;\n  top: 80%;\n  box-sizing: border-box;\n}\n\n.lfo_controls_column {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex: 0.9;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  position: relative;\n  margin: 0;\n  padding: 0;\n}\n\n.lfo_waveform-btn-selector {\n  position: absolute;\n  left: 5%;\n  bottom: 5%;\n  aspect-ratio: 7/4;\n  width: 80%;\n  border-radius: 0.3vw;\n  border-style: solid;\n  border-width: 1px;\n  text-align: center;\n}\n\n\n.lfo_waveform_btn_icon {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  bottom: 0;\n  place-self: center;\n  align-self: center;\n  margin: 0;\n  padding: 0;\n  clip-path: circle(9%);\n  transform: scale(3.25);\n}\n</style>","<template>\n  <div class=\"lfoOscilloscope\">\n    <canvas ref=\"canvas\" class=\"lfoOscilloscopeCanvas\" :style=\"this.oscilloscopeCanvas\"></canvas>\n  </div>\n</template>\n\n<script>\nimport {nextTick} from \"vue\";\n\nconst qualFactor = 50\nconst sinValsBuffer = new Array(qualFactor).fill(0);\nconst triValsBuffer = new Array(qualFactor).fill(0);\nconst sqValsBuffer = new Array(qualFactor).fill(0);\nconst sawValsBuffer = new Array(qualFactor).fill(0);\n\n//todo: rmv real audio\n// todo: remap dept in -0.5 + 0.5 range\n// todo: start only when needs to be visualized\n\nexport default {\n  components: {},\n  props: [\"freq\", \"depth\", \"wave\"],\n  data() {\n    return {\n      timing: 10,\n      //freq: this.freq,\n      //depth: this.depth,\n      intervalId: \"\",\n      waveform: this.wave\n    }\n  },\n\n  mounted() {\n    //console.log(\"mounted LfoVisual\")\n    this.timing = 1000 / (qualFactor * this.$props.freq);\n    for (let i = 0; i < qualFactor; i++) {\n      sinValsBuffer[i] = Math.sin(Math.PI*2/qualFactor * i) * this.$props.depth;\n      triValsBuffer[i] = this.$props.depth - 2*Math.abs(2*(i - qualFactor/2)/qualFactor) * this.$props.depth\n      i >= qualFactor/2? sqValsBuffer[i] = this.$props.depth : sqValsBuffer[i] = - this.$props.depth\n      sawValsBuffer[i] = this.depth * (2*i/qualFactor -1)\n    }\n\n    switch (this.waveform) {\n      case 'sine':\n        this.oscilloscopeData = sinValsBuffer\n        break;\n      case 'triangle':\n        this.oscilloscopeData = triValsBuffer\n        break;\n      case 'square':\n        this.oscilloscopeData = sqValsBuffer;\n        break;\n      case 'sawtooth':\n        this.oscilloscopeData = sawValsBuffer;\n        break;\n      default:\n        console.log(\"ERROR - waveform not recognised\")\n    }\n\n    // --------- GRAPHICS INIT --------\n    // use the ref to get the canvas element\n    this.canvas = this.$refs.canvas;\n\n    // set the canvas width and height to 100%\n    this.canvas.width = 4*this.canvas.offsetWidth;\n    this.canvas.height = 4*this.canvas.offsetHeight;\n    // get the canvas context\n    this.ctx = this.canvas.getContext(\"2d\");\n  },\n\n  methods: {\n    updateParams({ freq = this.$props.freq, depth = this.$props.depth, waveform = this.waveform }) {\n      //this.$props.freq = freq;\n      //this.$props.depth = depth;\n      this.waveform = waveform;\n      //console.log(\"this.wave: \" + waveform);\n\n      this.timing = 1000 / (qualFactor * this.$props.freq);\n      switch (this.waveform) {\n        case 'sine':\n          this.oscilloscopeData = sinValsBuffer\n          break;\n        case 'triangle':\n          this.oscilloscopeData = triValsBuffer\n          break;\n        case 'square':\n          this.oscilloscopeData = sqValsBuffer;\n          break;\n        case 'sawtooth':\n          this.oscilloscopeData = sawValsBuffer;\n          break;\n        default:\n          console.log(\"ERROR - waveform not recognised\")\n      }\n\n      if(this.intervalId){ clearInterval(this.intervalId) }\n      this.stopOscilloscope();\n      //console.log(\"end - this.wave: \" + waveform)\n\n      nextTick(() => {\n        this.startOscilloscope()\n      })\n    },\n\n    startOscilloscope() {\n      this.canvas.width = 4*this.canvas.offsetWidth;\n      this.canvas.height = 4*this.canvas.offsetHeight;\n      //console.log(\"start - this.waveform: \" + this.waveform)\n\n     // console.log(\"this.timing: \" + this.timing)\n     // console.log(\"avviando oscilloscope con timer \" + this.timing)\n      this.intervalId = setInterval(() => {\n        let t = this.oscilloscopeData.shift();\n        this.oscilloscopeData.push(t);\n        this.draw(this.oscilloscopeData);\n      }, this.timing);\n      //console.log(\"this.timing:  \" + this.intervalId);\n    },\n\n    stopOscilloscope(){\n      if(this.intervalId){ clearInterval(this.intervalId) }\n    },\n\n    draw(data) {\n      // clear the canvas\n      //console.log(\"drawing\")\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n      let x, y, y_next;\n\n      // draw the data on the canvas\n      // set the line color\n      this.ctx.strokeStyle = \"black\";\n      // set the line width\n      this.ctx.lineWidth = 2;\n      this.ctx.beginPath();\n\n      y_next = (this.canvas.height / 2) * (1 - data[0]).toFixed(3);\n      // loop through the data and plot it on the canvas\n      for (let i = 1; i < data.length; i++) {\n        y = y_next;\n        // calculate the x and y position of the point\n        x = i * (this.canvas.width / data.length).toFixed(3);\n        y_next = (this.canvas.height / 2) * (1 - data[i]).toFixed(3);\n        // move to the x and y position\n        this.ctx.moveTo(x, y);\n        // draw a line to the next point\n        this.ctx.lineTo(x + this.canvas.width / data.length, y_next );\n        // console.log(x, y)\n      }\n      // draw the line\n      this.ctx.stroke();\n      this.ctx.moveTo(0, 0);\n    },\n\n    beforeDestroy() {\n      if (this.oscilloscope) {\n        this.oscilloscope.disconnect();\n        this.oscilloscope.dispose();\n      }\n    },\n  }, \n  computed: {\n    oscilloscopeCanvas(){\n      return {\n        background: this.colors.purple.glow\n      } \n    }\n  }\n}\n</script>\n\n<style>\n.lfoOscilloscope {\n  margin: 0.4vw;\n  margin-right: 0.1vw;;\n  height: 90%;\n  width: 90%;\n  border: 0;\n  padding: 0;\n  box-sizing: border-box;\n  position: relative;\n}\n\n.lfoOscilloscopeCanvas {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 0.2vw;\n  border: 0.06vw solid #334030;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n</style>","import { render } from \"./LfoVisualizer.vue?vue&type=template&id=114fe44b\"\nimport script from \"./LfoVisualizer.vue?vue&type=script&lang=js\"\nexport * from \"./LfoVisualizer.vue?vue&type=script&lang=js\"\n\nimport \"./LfoVisualizer.vue?vue&type=style&index=0&id=114fe44b&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Lfo.vue?vue&type=template&id=425055ba&scoped=true\"\nimport script from \"./Lfo.vue?vue&type=script&lang=js\"\nexport * from \"./Lfo.vue?vue&type=script&lang=js\"\n\nimport \"./Lfo.vue?vue&type=style&index=0&id=425055ba&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-425055ba\"]])\n\nexport default __exports__","<template>\n  <div class=\"buttonList\" :style=\"this.buttonList\">\n    <div class=\"identifierVol\" :style=\"buttonColor('mainEnv')\" @click=\"handleClick(null, 'volEnvelope')\">\n      <img src=\"@/icons/ADSR.svg\" alt=\"\" draggable=\"false\">\n    </div>\n    <template v-for=\"button in buttonListEnv\" :key=\"button.id\" :ref=\"button.ref\">\n      <div class=\"button\" :style=\"buttonColor('envelope')\">\n        <div :style=\"textId\"> {{ button.id }} </div>\n        <div class=\"identifier\" @click=\"handleClick(button.id, button.type)\">\n\n          <img src=\"@/icons/ADSR.svg\" alt=\"\" draggable=\"false\">\n        </div>\n        <div class=\"draggableArea\" :draggable=\"draggability('envelope', button.id)\"\n          @dragstart=\"startDrag($event, button.id, button.type)\">\n        </div>\n      </div>\n    </template>\n    <template v-for=\"button in buttonListLfo\" :key=\"button.id\" :ref=\"button.ref\">\n      <div class=\"button\" :style=\"buttonColor('lfo')\">\n        <div :style=\"textId\"> {{ button.id }} </div>\n        <div class=\"identifier\" @click=\"handleClick(button.id, button.type)\"><!-- {{ button.id }} -->\n\n          <img src=\"@/icons/LFO.svg\" alt=\"\" draggable=\"false\">\n        </div>\n        <div class=\"draggableArea\" :draggable=\"draggability('lfo', button.id)\"\n          @dragstart=\"startDrag($event, button.id, button.type)\">\n        </div>\n      </div>\n    </template>\n  </div>\n\n</template>\n\n<script>\nimport * as Tone from \"tone\";\nimport { watch } from 'vue';\n\nexport default {\n  inject: ['dropFeedback'],\n  props: [],\n  data() {\n    return {\n      color: {\n        mainEnv: this.colors.pink.glow,\n        envelope: this.colors.azure.glow,\n        lfo: this.colors.purple.glow,\n      },\n      type: \"volEnvelope\",\n\n      isDraggable: this.isDraggable,\n      buttonListEnv: [],\n      buttonListLfo: [],\n    };\n  },\n  mounted() {\n    for (let i = 1; i < this.nEnvelopes + 1; i++) {\n      this.buttonListEnv.push({ id: i, ref: \"button\" + i, type: \"envelope\" });\n    }\n    for (let i = 1; i < this.nLfo + 1; i++) {\n      this.buttonListLfo.push({ id: i, ref: \"button\" + i, type: \"lfo\" });\n    }\n    //console.log(this.isDraggable)\n\n\n    //console.log(this.buttonListEnv)\n    //console.log(this.buttonListLfo)\n\n    /*\n    this.$on(\"unLink\", (data) => {\n          console.log(\"ModSelector disconnecting link from \"+data.modulator.type+\" \"+data.modulator.id+\" to \"+data.section+data.target)})\n\n     */\n\n  },\n  computed: {\n    textId(){\n      return {\n        fontWeight: \"bold\",\n        opacity: \"80%\",\n        position: 'absolute',\n        fontSize:'.8vw'\n      }\n    },\n    buttonList() {\n      switch (this.type) {\n        case \"volEnvelope\":\n          return{\n            backgroundColor: this.colors.pink.medium\n          }\n          case \"envelope\":\n          return{\n            backgroundColor: this.colors.azure.medium\n          }\n          case \"lfo\":\n          return{\n            backgroundColor: this.colors.purple.glow\n          }\n      }\n      \n    } \n\n  },\n  methods: {\n    draggability(type, id) {\n      //console.log(this.isDraggable)\n      //console.log(\"checking draggability of \" + type + \" \" + id)\n      return this.isDraggable[type][id]\n    },\n    isDraggableUpdate(isDraggable) {\n      //console.log(\"UPDATE ISDRAGGABLE\")\n      //console.log(this.isDraggable)\n      this.isDraggable = isDraggable\n    },\n    buttonColor(type) {\n      return {\n        backgroundColor: this.color[type]\n      }\n    },\n\n    startDrag(event, id, type) {\n      //console.log(\"dragging \" + type + \" \" + id)\n      event.dataTransfer.dropEffect = \"move\"\n      event.dataTransfer.effectAllowed = \"move\"\n      let data = { type: type, id: id, color: this.color[type] }\n      event.dataTransfer.setData(\"data\", JSON.stringify(data));\n      //console.log(data)\n    },\n    handleClick(id, type) {\n      this.type = type\n      if (type === \"volEnvelope\") {\n        //console.log(\"Selected \" + id)\n        this.$emit(\"selection\", type, null);\n      } else {\n        //console.log(\"Selected \" + type + \" \" + id)\n        this.$emit(\"selection\", id, type);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.button {\n  display: grid;\n  grid-template-columns: 80% 18%;\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  border: 0.06vw solid black; \n  border-radius: 0.2vw;\n  padding: 1%;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  align-content: center;\n  justify-items: stretch;\n\n}\n\n.buttonList {\n  padding-left: 0.3vw;\n  padding-right:  0.3vw;\n  padding-bottom: 0.3vw;\n  position: relative;\n  grid-row: 2;\n  display: flex;\n  flex-basis: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.identifier {\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  /* border: 0.1vw solid black; */\n  display: flex;\n\n}\n\n.identifierVol {\n  border: 0.06vw solid black; \n  border-radius: 0.2vw;\n  flex: 1;\n  box-sizing: border-box;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n\n.draggableArea {\n  border-radius: 50%;\n  display: flex;\n  border: 0.1vw solid black;\n  box-sizing: border-box;\n  position: relative;\n  width: 100%;\n  aspect-ratio: 1/1;\n  font-size: .9vw;\n  align-items: flex-end;\n  justify-content: center;\n}.draggableArea:hover {\n  opacity: 40%;\n}\n.identifier img {\n  position: relative;\n  opacity: 60%;\n  width: 4vw;\n  aspect-ratio: 1/1;\n}\n.identifierVol img {\n  position: relative;\n  opacity: 60%;\n  width: 4vw;\n  aspect-ratio: 1/1;\n}\n.identifier img:hover {\n  opacity: 40%;\n}\n.identifierVol img:hover {\n  opacity: 40%;\n}\n</style>","import { render } from \"./ModSelector.vue?vue&type=template&id=0ef4a2a4&scoped=true\"\nimport script from \"./ModSelector.vue?vue&type=script&lang=js\"\nexport * from \"./ModSelector.vue?vue&type=script&lang=js\"\n\nimport \"./ModSelector.vue?vue&type=style&index=0&id=0ef4a2a4&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0ef4a2a4\"]])\n\nexport default __exports__","import { render } from \"./Envelope.vue?vue&type=template&id=24c79e62&scoped=true\"\nimport script from \"./Envelope.vue?vue&type=script&lang=js\"\nexport * from \"./Envelope.vue?vue&type=script&lang=js\"\n\nimport \"./Envelope.vue?vue&type=style&index=0&id=24c79e62&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-24c79e62\"]])\n\nexport default __exports__","import { render } from \"./ModHost.vue?vue&type=template&id=9be86fba&scoped=true\"\nimport script from \"./ModHost.vue?vue&type=script&lang=js\"\nexport * from \"./ModHost.vue?vue&type=script&lang=js\"\n\nimport \"./ModHost.vue?vue&type=style&index=0&id=9be86fba&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9be86fba\"]])\n\nexport default __exports__","<template>\n  <div class=\"span\" @mouseleave=\"handleMouseLeave\">\n    <div class=\"container\">\n      <Octave\n        ref=\"oct1\"\n        :octaveNumber=\"1\"\n        @virtualKeyDown=\"handleNoteDown\"\n        @virtualKeyUp=\"handleNoteUp\"\n      />\n    </div>\n    <div class=\"container\">\n      <Octave\n        ref=\"oct2\"\n        :octaveNumber=\"2\"\n        @virtualKeyDown=\"handleNoteDown\"\n        @virtualKeyUp=\"handleNoteUp\"\n      />\n    </div>\n    <div class=\"container\">\n      <Octave\n        ref=\"oct3\"\n        :octaveNumber=\"3\"\n        @virtualKeyDown=\"handleNoteDown\"\n        @virtualKeyUp=\"handleNoteUp\"\n      />\n    </div>\n    <MIDIKeyboard @MIDIDown=\"handleMIDIDown\" @MIDIUp=\"handleMIDIUp\" />\n  </div>\n</template>\n\n<script>\nimport MIDIKeyboard from \"./MIDIKeyboard.vue\";\nimport Octave from \"./Octave.vue\";\nimport * as Tone from \"tone\";\n\n\nexport default {\n  name: \"PianoKeyboard\",\n  components: {\n    Octave,\n    MIDIKeyboard,\n  },\n  data() {\n    return {\n      //From here we can transpose the whole keyboard by octaves\n      ocTranspose: 1,\n      // Object to track which keys are currently being held down\n      keysDown: {},\n      keys: \"awsedftgyhujkolp\",\n      notes: [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"],\n      //Transposition amount (in octaves) for the computer keyboard\n      keyboardTranspose: 0,\n      mouseDown: false,\n    };\n  },\n  mounted() {\n    // Add keydown and keyup event listeners to the window object\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n    window.addEventListener(\"keyup\", this.handleKeyUp);\n  },\n  beforeDestroy() {\n    // Remove keydown and keyup event listeners from the window object\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n    window.removeEventListener(\"keyup\", this.handleKeyUp);\n  },\n\n  methods: {\n    handleMouseUp(){\n      this.mouseDown = false\n    },\n    handleKeyDown(event) {\n      // If the key is not currently being held down, handle the keydown event\n      if (!this.keysDown[event.key] && this.keys.includes(event.key)) {\n        let note = this.notes[this.keys.indexOf(event.key) % 12];\n        let octave = parseInt(this.keys.indexOf(event.key) / 12, 10);\n        this.handleNoteDown(note, 2 + octave + this.keyboardTranspose, 100);\n        // Set keyDown flag to true\n        this.keysDown[event.key] = true;\n        // Change color on keyboard\n        if (\n          2 + octave + this.keyboardTranspose > 0 &&\n          2 + octave + this.keyboardTranspose < 4\n        )\n          this.$refs[\n            \"oct\" + (2 + octave + this.keyboardTranspose)\n          ].switchColorPress(note);\n      }\n      // Change octave of computer keyboard with z or x\n      if (!this.keysDown[event.key] && event.key == \"z\") {\n        this.keyboardTranspose = this.keyboardTranspose - 1;\n      }\n      if (!this.keysDown[event.key] && event.key == \"x\") {\n        this.keyboardTranspose = this.keyboardTranspose + 1;\n      }\n    },\n    handleKeyUp(event) {\n      // If the key is currently being held down, handle the keyup event\n      if (this.keysDown[event.key]) {\n        let note = this.notes[this.keys.indexOf(event.key) % 12];\n        let octave = parseInt(this.keys.indexOf(event.key) / 12, 10);\n        this.handleNoteUp(note, 2 + octave + this.keyboardTranspose);\n        // Set keyDown flag to false\n        this.keysDown[event.key] = false;\n        // Change color on keyboard\n        if (\n          2 + octave + this.keyboardTranspose > 0 &&\n          2 + octave + this.keyboardTranspose < 4\n        )\n          this.$refs[\n            \"oct\" + (2 + octave + this.keyboardTranspose)\n          ].switchColorRelease(note);\n      }\n    },\n    handleMIDIDown(note, octave, velocity) {\n      if (octave > 0 && octave < 4)\n        this.$refs[\"oct\" + octave].switchColorPress(note);\n      this.synths.list.forEach(synth => {\n        //console.log(\"Play note: \"+(note+octave)+\" at velocity: \"+velocity+\" from MIDI\")\n        synth.playNote(note+octave, velocity);\n      });\n      //play filter envelopes\n      for(let chain in this.filterChains){\n        for( let filter in this.filterChains[chain]){\n          this.filterChains[chain][filter].playNote()\n        }\n      }\n      this.$emit(\"noteDown\", note)\n    },\n    handleMIDIUp(note, octave) {\n      //console.log(\"MIDI released \"+note+octave)\n      if (octave > 0 && octave < 4)\n        this.$refs[\"oct\" + octave].switchColorRelease(note);\n      this.synths.list.forEach(synth => {\n        synth.stopNote(note+octave);\n      });\n      //stop filter envelopes\n      for(let chain in this.filterChains){\n        for( let filter in this.filterChains[chain]){\n          this.filterChains[chain][filter].stopNote()\n        }\n      }\n    },\n\n    handleNoteDown(note, octave, velocity = 100) {\n      let finalOctave = parseInt(octave) + this.ocTranspose;\n      //console.log(note+finalOctave+\" pressed\")\n      this.synths.list.forEach(synth => {\n        synth.playNote(note+finalOctave, velocity);\n        //console.log(synth)\n      });\n      \n      //play filter envelopes\n      for(let chain in this.filterChains){\n        for( let filter in this.filterChains[chain]){\n          this.filterChains[chain][filter].playNote()\n        }\n      }\n      this.$emit(\"noteDown\", note+finalOctave)\n    },\n    handleNoteUp(note, octave) {\n      let finalOctave = parseInt(octave) + this.ocTranspose;\n      //console.log(note+finalOctave+\" released\")\n      this.synths.list.forEach(synth => {\n        synth.stopNote(note+finalOctave);\n      });\n      //stop filter envelopes\n      for(let chain in this.filterChains){\n        for( let filter in this.filterChains[chain]){\n          this.filterChains[chain][filter].stopNote()\n        }\n      }\n    },\n  }\n  \n};\n</script>\n\n<style scoped>\n.container {\n  background-color: white;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: relative;\n  border-top: .1vw solid gray\n}\n\n.span {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-row: 3;\n  grid-column: span 3;\n}\n</style>","<template>\n</template>\n\n<script>\nexport default ({\n  data() {\n    return {\n      midiAccess: null,\n      midiInput: null,\n      notes: [ \"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\" ],\n      lowestOctave: -2,\n    };\n  },\n  mounted() {\n    navigator.requestMIDIAccess()\n      .then((midiAccess) => {\n        if(midiAccess.inputs.size>0){\n            this.midiAccess = midiAccess;\n            this.midiInput = midiAccess.inputs.values().next().value;\n            //console.log(this.midiInput);\n            this.midiInput.addEventListener('midimessage', this.handleMidiMessage)\n        }else{\n            //console.log('There are no MIDI inputs available, if you need MIDI, reload the page with a MIDI keyboard connected');\n        }\n        \n      });\n  },\n  methods: {\n    handleMidiMessage(event){\n        let [status, note, velocity] = event.data;\n        let label = this.notes[note%12]\n        let octave = (this.lowestOctave+parseInt(note/12,10))\n        if (status == 144) {\n            //console.log(`Keydown: note=${label}, velocity=${velocity}`);\n            this.$emit(\"MIDIDown\", label, octave, velocity);\n        } else if (status == 128) {\n            //console.log(`Keyup: note=${label}, velocity=${velocity}`);\n            this.$emit(\"MIDIUp\", label, octave);\n        }\n    },\n  },\n});\n</script>\n\n<style>\n\n</style>","import { render } from \"./MIDIKeyboard.vue?vue&type=template&id=6a1c7ae9\"\nimport script from \"./MIDIKeyboard.vue?vue&type=script&lang=js\"\nexport * from \"./MIDIKeyboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"octave\" @mousedown=\"handleMouseDown\" @mouseup=\"handleMouseUp\"  @mouseover=\"handleMouseOver\">\n        <div class=\"woctave\">\n            <div id=\"C\" ref=\"C\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\n            <div id=\"D\" ref=\"D\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\n            <div id=\"E\" ref=\"E\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\n            <div id=\"F\" ref=\"F\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\n            <div id=\"G\" ref=\"G\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\n            <div id=\"A\" ref=\"A\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\n            <div id=\"B\" ref=\"B\" @mouseleave=\"handleMouseLeave\" class=\"wkey wUnpressed\"></div>\n        </div>\n        <div class=\"boctave\">\n            <div id=\"C#\" ref=\"Cs\" @mouseleave=\"handleMouseLeave\" class=\"bkey bUnpressed\" style=\"grid-column: 3 / 5\"></div>\n            <div id=\"D#\" ref=\"Ds\" @mouseleave=\"handleMouseLeave\" class=\"bkey bUnpressed\" style=\"grid-column: 6 / 8\"></div>\n            <div id=\"F#\" ref=\"Fs\" @mouseleave=\"handleMouseLeave\" class=\"bkey bUnpressed\" style=\"grid-column: 12 / 14\"></div>\n            <div id=\"G#\" ref=\"Gs\" @mouseleave=\"handleMouseLeave\" class=\"bkey bUnpressed\" style=\"grid-column: 15 / 17\"></div>\n            <div id=\"A#\" ref=\"As\" @mouseleave=\"handleMouseLeave\" class=\"bkey bUnpressed\" style=\"grid-column: 18 / 20\"></div>\n        </div>   \n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"Octave\",\n    props: {\n        octaveNumber: Number,\n    },\n        data() {\n        return {\n        }\n    },\n    methods: {\n        handleMouseLeave(e){\n            if(this.$parent.mouseDown){\n                this.notifyUp(e.currentTarget)\n            }    \n        },\n        handleMouseUp(e) {\n            this.$parent.mouseDown= false;\n            this.notifyUp(e.target)\n            //console.log(\"mouse is now up\")\n        },\n        handleMouseDown(e) {\n            this.$parent.mouseDown= true;\n            this.notifyDown(e.target)\n            //console.log(\"mouse is now down\")\n        },\n        handleMouseOver(e){\n            if(this.$parent.mouseDown){\n                //console.log(e.target)\n                this.notifyDown(e.target)\n\n            }\n            //console.log(\"mouseDown is \"+this.$parent.mouseDown+\" and is moving\")\n        },\n        notifyDown(key){\n            //emitting cusom event \"keyDown\"\n            this.$emit(\"virtualKeyDown\",key.id,this.octaveNumber)\n            this.switchColorPress(key.id)\n        },\n        switchColorPress(note){\n            if(note.includes(\"#\")){\n                note = note.replace(\"#\",\"s\")\n            }\n            let key = this.$refs[note];\n            //change color of key when pressed\n            if (key.classList.contains('wkey')){\n                key.classList.remove(\"wUnpressed\")\n                key.classList.add(\"pressed\")\n            }else{\n                key.classList.remove(\"bUnpressed\")\n                key.classList.add(\"pressed\")\n            }     \n        },\n        notifyUp(key){\n            //emitting cusom event \"keyUp\"\n            this.$emit(\"virtualKeyUp\",key.id,this.octaveNumber)\n            this.switchColorRelease(key.id)\n            //not needed, called in PianoKeyboard (when clicking with the mouse on keyboard all keys are released (color))\n        },\n        switchColorRelease(note){\n            if(note === \"all\"){\n                for (const ref of Object.values(this.$refs)) {\n                    if (ref.classList.contains('wkey')){\n                        ref.classList.add(\"wUnpressed\")\n                        ref.classList.remove(\"pressed\")\n                    }else{\n                        ref.classList.add(\"bUnpressed\")\n                        ref.classList.remove(\"pressed\")\n                    }\n                }  \n            }else{\n                if(note.includes(\"#\")){\n                note = note.replace(\"#\",\"s\")\n                }\n                let key = this.$refs[note];\n                //change color of key when released\n                if (key.classList.contains('wkey')){\n                    key.classList.add(\"wUnpressed\")\n                    key.classList.remove(\"pressed\")\n                }else{\n                    key.classList.add(\"bUnpressed\")\n                    key.classList.remove(\"pressed\")\n                }\n            }\n            \n        }\n    }\n}\n</script>\n\n<style>\n\n    .octave{\n        width: 100%;\n        height: 100%;\n        box-sizing: border-box;\n        position:relative;   \n    }\n    .woctave{\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;      \n    }\n    .boctave{\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        display: grid;\n        grid-template-columns: repeat(21, 1fr);  \n        grid-template-rows: 100%;  \n    }\n    .wkey{\n        width: 100%;\n        height: 100%;\n        border: solid black 0.06vw;\n        box-sizing: border-box;\n        border-radius: 0.2vw;\n        z-index: 1;\n    }\n    .wUnpressed{\n        background-color:#f8e7e6;\n        opacity: 40%;\n    }\n    .bUnpressed{\n        background-color:#645352;\n    }\n    .pressed{\n        background-color:#f3a59a;\n    }\n    .bkey{\n        width: 100%;\n        height: 60%;\n        border: solid black 0.06vw;\n        box-sizing: border-box;\n        border-radius: 0.2vw;\n        position: relative;\n        z-index: 1;\n    }\n    \n\n</style>","import { render } from \"./Octave.vue?vue&type=template&id=79bc0415\"\nimport script from \"./Octave.vue?vue&type=script&lang=js\"\nexport * from \"./Octave.vue?vue&type=script&lang=js\"\n\nimport \"./Octave.vue?vue&type=style&index=0&id=79bc0415&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PianoKeyboard.vue?vue&type=template&id=083b757d&scoped=true\"\nimport script from \"./PianoKeyboard.vue?vue&type=script&lang=js\"\nexport * from \"./PianoKeyboard.vue?vue&type=script&lang=js\"\n\nimport \"./PianoKeyboard.vue?vue&type=style&index=0&id=083b757d&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-083b757d\"]])\n\nexport default __exports__","import { render } from \"./MainHost.vue?vue&type=template&id=dec5c16c\"\nimport script from \"./MainHost.vue?vue&type=script&lang=js\"\nexport * from \"./MainHost.vue?vue&type=script&lang=js\"\n\nimport \"./MainHost.vue?vue&type=style&index=0&id=dec5c16c&lang=css\"\n\nimport exportComponent from \"/Users/eliapirrello/Documents/GitHub/zenyth/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport MainHost from '../views/MainHost.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'synth',\n    component: MainHost\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\nconst app = createApp(App).use(router)\n//global properties\n\n//audio\napp.config.globalProperties.synths = {\n    list: [],\n}\n\napp.config.globalProperties.nFilterChains = 3\napp.config.globalProperties.nFiltersXchain = 3\napp.config.globalProperties.areFiltersMounted = false\n\napp.config.globalProperties.nFxChains = 3 //DO NOT CHANGE WITHOUT CHANGING GRID STYLE IN FX\napp.config.globalProperties.nFxXchain = 5\napp.config.globalProperties.nNodesXfxChain = 7\napp.config.globalProperties.areFxMounted = false\n\napp.config.globalProperties.nModulators = 6\napp.config.globalProperties.nEnvelopes = 3\napp.config.globalProperties.nLfo = 2\napp.config.globalProperties.nKnobs = 9      //DO NOT CHANGE WITHOUT CHANGING GRID STYLE IN KNOBS\napp.config.globalProperties.polyphonyVoices = 4\n\n// init filters global matrix\napp.config.globalProperties.filterChains = Array(app.config.globalProperties.nFilterChains)\nfor (let i = 0; i < app.config.globalProperties.nFilterChains; i++) {\n    app.config.globalProperties.filterChains[i] = Array(app.config.globalProperties.nFiltersXchain)\n}\n\n// init fx global matrix\napp.config.globalProperties.fxChains = Array(app.config.globalProperties.nFxChains)\nfor (let i = 0; i < app.config.globalProperties.nFxChains; i++) {\n    app.config.globalProperties.fxChains[i] = Array(app.config.globalProperties.nNodesXfxChain) // gain nodes at start and end\n}\n//console.log(app.config.globalProperties.fxChains)\n\napp.config.globalProperties.colors = {\n    green: {light: '#7fe2a6', medium: '#599e74', dark: '#335a42', glow: '#b2eeca'},\n    yellow: {light: '#fee573', medium: '#e5ce68', dark: '#b2a051', glow: '#feefab'},\n    azure: {light: '#8fe1d8', medium: '#81cbc2', dark: '#649e97', glow: '#b1eae4'},\n    purple: {light: '#cdadc4', medium: '#b99cb0', dark: '#a48a9d', glow: '#e1cedc'},\n    pink: {light: '#f3a59a', medium: '#db958b', dark: '#c2847b', glow: '#f9d2cd'},\n    orange: {light: '#ffc16c', medium: '#e6ae61', dark: '#cc9a56', glow: '#ffd498'},\n    gray: {light: '#a8a8a8', medium: '#868686', dark: '#111111', glow: '#f6f6f6'},\n}\n\n//To communicate from dropzone module to dragzone module\napp.config.globalProperties.dropFeedback = null\napp.provide('dropFeedback', app.config.globalProperties.dropFeedback)\n\napp.config.globalProperties.isDraggable = {\n    envelope: {},\n    lfo: {}\n}\n\n\napp.mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"/zenyth/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkactam\"] = self[\"webpackChunkactam\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], () => (__webpack_require__(6418)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","mounted","methods","__exports__","render","class","_createElementVNode","className","src","_imports_0","draggable","_createElementBlock","onMouseup","$options","onMousemove","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_OscHost","ref","onNewOsc","_component_FilterHost","onFilterInitialized","_component_FxHost","_component_ToolHost","_component_ModHost","_component_PianoKeyboard","onNoteDown","onNoteUp","_hoisted_4","_hoisted_6","style","oscHost","_Fragment","oscList","osc","_component_Osc","id","onDisposed","onClick","length","alt","_imports_1","_imports_2","_imports_3","type_button","type_text","$data","this","oscTypeIndex","mod_area","volume_area","pitch_slider","mod_slider","volume_slider","pitch_area","pitch_hand","lineL","lineU","lineR","onDragenter","onDragleave","onDragover","onDrop","$event","onMousedown","_toDisplayString","osc_wave","oscWaveIndex","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","onChainclick","_hoisted_13","vol_damp_factor","MyPolySynth","destination","nVoices","modulatorsData","envelope","vol","amount","parameters","attack","decay","sustain","release","mod","pitch","lfo","frequency","waveform","min","max","synthPreset","type","transpose","partials","pan","dampNode","Gain","gainNode","allVoices","freeVoices","busyVoices","lastNotes","Array","initVoices","connect","index","modulators","signal","scale","lfoGain","gain","synth","createSynth","oscillator","disconnect","dispose","noiseAdsrGain","noiseGain","noise","Tone","voice","target","tempMod","createModulator","createScale","connectModulator","push","initialized","updateModulators","note","velocity","lastNote","shift","toRaw","cancel","triggerAttack","stop","start","triggerRelease","Synth","nextTick","set","Envelope","LFO","console","log","forEach","scaleSetter","modulatorSetter","modulator","Math","chain","detune","volume","modulation","updateSynths","route","wave_types","osc_types","components","SineIcon","SquareIcon","TriangleIcon","SawtoothIcon","data","color","colors","pink","azure","green","maxPitch","minPitch","waveform_btn_style","wave_icon_size","is_modulationDown","is_volumeDown","is_pitchDown","isFilterChainRouteActive","props","document","addEventListener","onMouseMove","onMouseUp","window","resizeGraphics","polyphonyVoices","setParameters","gainToDb","synths","list","initConnections","$emit","computed","osc_container","background","fontSize","glow","gray","dark","medium","transform","opacity","backgroundColor","borderLeft","border","chain_buttons","button_1","purple","light","button_2","button_3","handleDrop","event","JSON","parse","dataTransfer","getData","dispatchEvent","CustomEvent","detail","object","handleDragEnter","handleDragLeave","unlinkMod","computedModulation","width","height","borderRadius","position","right","display","left","bottom","computedModText","key","disconnectDispose","splice","indexOf","filterChains","getToneFilter","body","clientWidth","e","movementY","movementX","floor","modulationDown","volumeDown","pitchDown","nextOscType","nextWaveform","unmounted","removeEventListener","Osc","name","i","addOsc","handleNewOsc","$refs","removeOsc","voidBorder","filterHost","chainList","_component_FilterChain","chainLine","chainDot","filterList","filter","_component_Filter","chainId","filter_type","chainColor","onFiltersMounted","handleFiltersMounted","_hoisted_5","filter_logo","resonance","toFixed","logo_text_back","MyFilter","cutoff","activeNotes","initFilterParams","self","cutoffLogMapping","pow","log10","resonanceRangeNormalizer","Q","err","x","error","yellow","is_logoDown","getCutoff","getResonance","nFiltersXchain","nFilterChains","zIndex","top","setResonance","setCutoff","cursor","logoDown","getMyFilter","computedHeadStyle","computedGlow","computedLP","computedHP","computedBDMaks","clip","clipPath","computedBD","computedBDCircle","logo","filterTypes","Filter","nFilters","isFxChainRouteActive","fx_chain_1","fx_chain_2","fx_chain_3","$props","aspectRatio","fxChains","setRouting","FilterChain","chain_colors","fxBack","fxHost","chainHead1","chainHead2","chainHead3","fx","_component_FxCell","item","onFxMounted","initFxConnections","gainList","_imports_4","_imports_5","typeId","iconDiv","onMouseover","onIconEnter","onMouseout","_hoisted_7","MyEffect","effect","generateToneFx","createReverb","createDelay","createDistortion","createVibrato","createPan","createChorus","setFxParams","wet","delayTime","feedback","distortion","depth","coeff","spread","toString","Reverb","PingPongDelay","Distortion","Vibrato","Panner","Chorus","types","Fx_colors","is_down","startX","startY","endX","endY","threshold","nFxChains","nFxXchain","computedGlowStyle","iconDivBlack","onIconLeave","isSVGTag","nextFx","distance","sqrt","generateNextTypeIndex","fxType","changeFxType","getToneReference","generateRandomTypeIndex","round","random","setToBypass","fxDown","clientX","clientY","FxCell","Fx_chain1","Fx_chain2","Fx_chain3","isGainSelected","chainsGains","fill","nNodesXfxChain","j","getDestination","setChainVolume","gainMouseDown","gainId","handleMouseUp","handleMouseMove","isSelected","computedFxGainKnobStyle","channelGain","orange","boxSizing","borderTop","toolsHost","_component_SpecAnalyzer","_component_Oscilloscope","_component_Meter","Meter","widthLeft","widthRight","computedWidthLeft","computedWidthRight","meter","channels","intervalId","setInterval","updateWidths","getValue","leftVolume","rightVolume","isFinite","dbToGain","beforeDestroy","clearInterval","oscilloscopeCanvas","oscilloscopeData","timing","oscilloscope","startOscilloscope","canvas","offsetWidth","offsetHeight","ctx","getContext","setTiming","updateOscilloscopeData","draw","clearRect","strokeStyle","lineWidth","beginPath","y","moveTo","lineTo","stroke","analyzerCanvas","analyser","canvasCtx","startAnalyzer","value","fillStyle","fillRect","Oscilloscope","SpecAnalyzer","setOscilloscopeTiming","mseconds","_component_VolEnvelope","_component_Envelope","onIsDraggableUpdate","_component_Lfo","_component_ModSelector","onSelection","container","_component_EnvelopeVisualizer","is_volume","onParamRefresh","_component_Knobs","knob","isOn","knobList","freeKnobs","nKnobs","isMouseDown","selectedKnobId","isDraggable","updateParameters","setModulatorParameters","knobText","addLink","setModulatorAmount","removeLink","mouseDown","knobId","computedFaderStyle","rawKnobAmount","envelope_container","adsr","attack_Color","decay_head","decay_Color","sustain_head","sustain_Color","release_Color","space","attackCurve","decayCurve","releaseCurve","sustain_lev","duration","is_attack_down","is_decay_down","is_sustain_down","is_release_down","test","isDragging","tempEvent","p","attack_down","decay_down","sustain_down","release_down","gridTemplateColumns","ceil","gridTemplateRows","attack_dot","borderColor","decay_dot","release_dot","attack_area","decay_area","sustain_area","release_area","EnvelopeVisualizer","handleRefresh","unHide","classList","remove","hide","add","visualizer","lfo_elems_row","_component_LfoVisualizer","freq","wave","lfoFaderBase","lfoFreqFaderLevel","qualFactor","sinValsBuffer","triValsBuffer","sqValsBuffer","sawValsBuffer","sin","PI","abs","updateParams","stopOscilloscope","t","y_next","waveforms","LfoVisualizer","Knobs","isDepthFaderDown","isFreqFaderDown","waveformId","lfoDepthFaderLevel","lfo_waveform_btn_selector","setParams","waveformNameString","knobs","nextWaveType","resetOscilloscope","depthFaderSelected","freqFaderSelected","link","unLink","buttonList","button","onDragstart","inject","mainEnv","buttonListEnv","buttonListLfo","nEnvelopes","nLfo","textId","fontWeight","draggability","isDraggableUpdate","buttonColor","startDrag","dropEffect","effectAllowed","setData","stringify","handleClick","handleDraggableUpdate","VolEnvelope","Lfo","ModSelector","selection","selectionType","envList","lfoList","created","volEnvelope","handleLink","handleUnlink","modHost","modSelector","envelopes","lfos","changeSelection","onMouseleave","_ctx","_component_Octave","octaveNumber","onVirtualKeyDown","onVirtualKeyUp","_component_MIDIKeyboard","onMIDIDown","onMIDIUp","midiAccess","midiInput","notes","lowestOctave","navigator","requestMIDIAccess","then","inputs","size","values","next","handleMidiMessage","status","label","octave","parseInt","Number","handleMouseLeave","$parent","notifyUp","currentTarget","handleMouseDown","notifyDown","handleMouseOver","switchColorPress","includes","replace","contains","switchColorRelease","Object","Octave","MIDIKeyboard","ocTranspose","keysDown","keys","keyboardTranspose","handleKeyDown","handleKeyUp","handleNoteDown","handleNoteUp","handleMIDIDown","playNote","handleMIDIUp","stopNote","finalOctave","OscHost","FilterHost","FxHost","ToolHost","ModHost","PianoKeyboard","draggedInfo","initOscConnections","pianoKeyboard","setTimeout","deleteDraggedInfo","noteDownHandle","noteUpHandle","routes","path","component","MainHost","router","createRouter","history","createWebHistory","process","app","createApp","App","use","config","globalProperties","areFiltersMounted","areFxMounted","nModulators","dropFeedback","provide","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","r","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}